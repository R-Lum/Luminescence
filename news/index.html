<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • Luminescence</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Luminescence</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
      </ul><ul class="navbar-nav"><li class="active nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-Lum/Luminescence"><span class="fa fa-github"></span> GitHub</a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/R-Lum/Luminescence/blob/archive/dev_1.1.0/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="changes-in-version-110-2025-06-11">Changes in version 1.1.0 (2025-06-11)<a class="anchor" aria-label="anchor" href="#changes-in-version-110-2025-06-11"></a></h2><p class="text-muted">CRAN release: 2025-06-11</p>
<div class="section level3">
<h3 id="new-functions-1-1-0">New functions<a class="anchor" aria-label="anchor" href="#new-functions-1-1-0"></a></h3>
<ul><li><p><code><a href="../reference/remove_SignalBackground.html">remove_SignalBackground()</a></code>: A user-friendly method to subtract background signals from various curves in <code>RLum.Analysis</code> objects without resorting to <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> loops. Depending on the record type, the function identifies pairs of curves; for instance, if in a sequence, a <code>TL</code> curve is immediately followed by another <code>TL</code> curve, the second curve is recognised as the background signal, subtracted using <code><a href="../reference/merge_RLum.html">merge_RLum()</a></code> and subsequently removed from the object (if desired). Alternatively, a set of potential background curves can be specified.</p></li>
<li><p><code><a href="../reference/remove_RLum.html">remove_RLum()</a></code>: This function further completes the set of methods that can handle and modify <code>RLum-class</code> objects. It operates on <code>RLum.Analysis</code> objects or a <code>list</code> of such objects to remove unwanted records from datasets. Although the function calls <code><a href="../reference/get_RLum.html">get_RLum()</a></code> and relies on its functionality, the new implementation facilitates a more logical workflow and analysis pipeline.</p></li>
<li><p><code><a href="../reference/dot-as.latex.table.html">.as.latex.table()</a></code>: Converts <code>RLum.Results</code> objects where suitable to <code>LaTeX</code> ready tables, for instance, objects produced by <code><a href="../reference/use_DRAC.html">use_DRAC()</a></code>. The function has been present in the package as an internal function for many years; now it is exported and better linked to make it discoverable.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-datasets-1-1-0">New datasets<a class="anchor" aria-label="anchor" href="#new-datasets-1-1-0"></a></h3>
<ul><li>
<code>RF70Curves</code> is a new dataset consisting of two IR-RF curves measured with the RF70 protocol. This new dataset provides a more realistic example for <code><a href="../reference/analyse_IRSAR.RF.html">analyse_IRSAR.RF()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-1-1-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-1-0"></a></h3>
<ul><li><p>Function <code>get_Quote()</code> is no longer exported, but remains available as an internal function. This is unlikely to affect any user of the package, as the function was only meant to report a random quote at startup (<a href="https://github.com/R-Lum/Luminescence/issues/644" class="external-link">#644</a>).</p></li>
<li><p>In the functions <code><a href="../reference/fit_DoseResponseCurve.html">fit_DoseResponseCurve()</a></code> and <code><a href="../reference/plot_GrowthCurve.html">plot_GrowthCurve()</a></code>, the <code>fit.method</code> option <code>LambertW</code> was replaced by the more correct term <code>OTOR</code>.</p></li>
<li><p>Argument <code>cex.global</code> has been removed from <code><a href="../reference/plot_DoseResponseCurve.html">plot_DoseResponseCurve()</a></code> (and consequently also from <code><a href="../reference/plot_GrowthCurve.html">plot_GrowthCurve()</a></code>), and if set it will be silently ignored. Users can set the <code>cex</code> graphical parameter via <code>...</code> in its place (<a href="https://github.com/R-Lum/Luminescence/issues/831" class="external-link">#831</a>).</p></li>
<li><p>The <code>fit.method</code> and <code>fit.advanced</code> arguments of function <code><a href="../reference/fit_LMCurve.html">fit_LMCurve()</a></code> have been removed. The default fitting method has been changed from <code>port</code> to <code>LM</code>, and support for the <code>port</code> algorithm has been removed. From now on, argument <code>fit.method</code> is silently ignored, unless <code>fit.method = 'port'</code> is used, in which case a deprecation warning is thrown (<a href="https://github.com/R-Lum/Luminescence/issues/793" class="external-link">#793</a>).</p></li>
<li><p>The fundamental physical constants used in the package (such as Boltzmann constant, Planck constant, etc.) have been uniformed to those reported in the <a href="https://physics.nist.gov/cuu/Constants/" class="external-link">NIST Reference on Constants, Units and Uncertainty</a>. This may affect the numerical results of the following functions: <code><a href="../reference/calc_FastRatio.html">calc_FastRatio()</a></code>, <code><a href="../reference/calc_Huntley2006.html">calc_Huntley2006()</a></code>, <code><a href="../reference/calc_SourceDoseRate.html">calc_SourceDoseRate()</a></code>, <code><a href="../reference/calc_ThermalLifetime.html">calc_ThermalLifetime()</a></code>, <code><a href="../reference/convert_Activity2Concentration.html">convert_Activity2Concentration()</a></code>, <code><a href="../reference/convert_Wavelength2Energy.html">convert_Wavelength2Energy()</a></code>, <code><a href="../reference/fit_CWCurve.html">fit_CWCurve()</a></code>, <code><a href="../reference/fit_LMCurve.html">fit_LMCurve()</a></code>, <code><a href="../reference/fit_SurfaceExposure.html">fit_SurfaceExposure()</a></code>, <code><a href="../reference/fit_ThermalQuenching.html">fit_ThermalQuenching()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/693" class="external-link">#693</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-and-changes-1-1-0">Bugfixes and changes<a class="anchor" aria-label="anchor" href="#bugfixes-and-changes-1-1-0"></a></h3>
<div class="section level4">
<h4 id="analyse_basar-1-1-0"><code>analyse_baSAR()</code><a class="anchor" aria-label="anchor" href="#analyse_basar-1-1-0"></a></h4>
<ul><li>The function crashed if only one aliquot was kept (<a href="https://github.com/R-Lum/Luminescence/issues/834" class="external-link">#834</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_fadingmeasurement-1-1-0"><code>analyse_FadingMeasurement()</code><a class="anchor" aria-label="anchor" href="#analyse_fadingmeasurement-1-1-0"></a></h4>
<ul><li><p>The function crashed if the number of <code>Lx</code> and <code>Tx</code> curves was not equal when <code>structure = c("Lx", "Tx")</code>, which is the default. The check that the number of points within each pair of curves has also been improved, and the function now produces more helpful error messages (<a href="https://github.com/R-Lum/Luminescence/issues/616" class="external-link">#616</a>).</p></li>
<li><p>The function tests are now less rigorous for different <code>Lx</code> and <code>Tx</code> sizes. While they should match, numerical rounding issues in the data returned by the measurement devices could previously result in rejection of records, although this had no actual meaning for the data analysis.</p></li>
</ul></div>
<div class="section level4">
<h4 id="analyse_irsarrf-1-1-0"><code>analyse_IRSAR.RF()</code><a class="anchor" aria-label="anchor" href="#analyse_irsarrf-1-1-0"></a></h4>
<ul><li><p>The legend and subtitle texts now scale better at non-default cex settings (<a href="https://github.com/R-Lum/Luminescence/issues/803" class="external-link">#803</a>).</p></li>
<li><p>The printing of progress bars and messages to the terminal can now be controlled via the <code>...</code> argument <code>verbose</code>. Previously this could only be done via the <code>txtProgressBar</code> argument (which is still supported), but the new option makes the interface consistent with most other functions (<a href="https://github.com/R-Lum/Luminescence/issues/805" class="external-link">#805</a>).</p></li>
<li><p>The <code>mtext</code> and <code>cex</code> options are respected if <code>method = "None"</code> (<a href="https://github.com/R-Lum/Luminescence/issues/807" class="external-link">#807</a>).</p></li>
<li><p>The residual plot correctly respects the logarithmic transformation of the x-axis when <code>log = "x"</code> or <code>log = "xy"</code> are specified (<a href="https://github.com/R-Lum/Luminescence/issues/814" class="external-link">#814</a>, <a href="https://github.com/R-Lum/Luminescence/issues/825" class="external-link">#825</a>).</p></li>
<li><p>The function now deals correctly also with input objects containing multiple curves (<a href="https://github.com/R-Lum/Luminescence/issues/816" class="external-link">#816</a>).</p></li>
<li><p>The residual indicator rectangle, which is drawn when <code>method</code> is either <code>SLIDE</code> or <code>VSLIDE</code>, is also drawn when <code>log = "x"</code> (<a href="https://github.com/R-Lum/Luminescence/issues/821" class="external-link">#821</a>).</p></li>
<li><p>The plotting of the density is silently disabled if <code>n.MC = NULL</code>, which avoids a spurious warning (<a href="https://github.com/R-Lum/Luminescence/issues/823" class="external-link">#823</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="analyse_pirirsequence-1-1-0"><code>analyse_pIRIRSequence()</code><a class="anchor" aria-label="anchor" href="#analyse_pirirsequence-1-1-0"></a></h4>
<ul><li>The function now respects the <code>cex</code> graphical argument, and its plot output has been subtly improved thanks to various fixes that have occurred especially in <code><a href="../reference/plot_DoseResponseCurve.html">plot_DoseResponseCurve()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/831" class="external-link">#831</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_portableosl-1-1-0"><code>analyse_portableOSL()</code><a class="anchor" aria-label="anchor" href="#analyse_portableosl-1-1-0"></a></h4>
<ul><li><p>The function now returns an error if <code>mode</code> is something other than <code>"profile"</code> or <code>"surface"</code>.</p></li>
<li><p>The <code>mode</code> argument was not respected when operating over a list of objects (<a href="https://github.com/R-Lum/Luminescence/issues/673" class="external-link">#673</a>).</p></li>
<li><p>The function crashed when using <code>mode = "surface"</code> if the plotting limits were too tight and left only one point (<a href="https://github.com/R-Lum/Luminescence/issues/675" class="external-link">#675</a>).</p></li>
<li><p>The check on the validity of the <code>signal.integral</code> argument has been improved, and now it occurs only once, so at most one warning is raised if the argument is set to a value exceeding the valid range (<a href="https://github.com/R-Lum/Luminescence/issues/678" class="external-link">#678</a>, <a href="https://github.com/R-Lum/Luminescence/issues/680" class="external-link">#680</a>).</p></li>
<li><p>The function returns a clearer message when no x-coordinates were measured and <code>mode = "surface"</code> was used (<a href="https://github.com/R-Lum/Luminescence/issues/682" class="external-link">#682</a>).</p></li>
<li><p>The <code>cex</code> and <code>type</code> graphical parameters can now configured via the <code>...</code> argument (<a href="https://github.com/R-Lum/Luminescence/issues/684" class="external-link">#684</a>).</p></li>
<li><p>The expected sequence pattern of the input object is validated more thoroughly to avoid crashes in case of misspecification (<a href="https://github.com/R-Lum/Luminescence/issues/687" class="external-link">#687</a>).</p></li>
<li><p>The graphical <code>...</code> argument <code>contour</code> never produced a meaningful contour plot due to an internal error (<a href="https://github.com/R-Lum/Luminescence/issues/686" class="external-link">#686</a>). Along, arguments <code>contour_nlevels</code> and <code>contour_col</code> are now supported through <code>...</code> to better control the number and colour of contour lines.</p></li>
</ul></div>
<div class="section level4">
<h4 id="analyse_sarcwosl-1-1-0"><code>analyse_SAR.CWOSL()</code><a class="anchor" aria-label="anchor" href="#analyse_sarcwosl-1-1-0"></a></h4>
<ul><li><p>Add support for <code>fit.method = 'OTORX'</code> following the changes in <code><a href="../reference/fit_DoseResponseCurve.html">fit_DoseResponseCurve()</a></code>; this change includes the new argument <code>dose.points.test</code> that is only of use in combination with the <code>OTORX</code> fit.</p></li>
<li><p>Add new graphical output if the measurements were single grain measurements, in such case a disc with the position and grain number marked in shown. This plot replaces the IRSL curve check plot, but only for single grain data (<a href="https://github.com/R-Lum/Luminescence/issues/797" class="external-link">#797</a>).</p></li>
<li><p>The rejection criteria plot was rewritten and now provides an easier to grasp visual feedback (<a href="https://github.com/R-Lum/Luminescence/issues/797" class="external-link">#797</a>, <a href="https://github.com/R-Lum/Luminescence/issues/798" class="external-link">#798</a>).</p></li>
<li><p>The <code>IRSL</code>/<code>Single Grain</code> panel swapped place with the rejection criteria panel; the plot numbers remained unchanged to avoid regression.</p></li>
<li><p>More code optimisation for better readability (<a href="https://github.com/R-Lum/Luminescence/issues/802" class="external-link">#802</a>)</p></li>
</ul></div>
<div class="section level4">
<h4 id="analyse_sartl-1-1-0"><code>analyse_SAR.TL()</code><a class="anchor" aria-label="anchor" href="#analyse_sartl-1-1-0"></a></h4>
<ul><li>A check on the <code>sequence.structure</code> argument ensures that a “SIGNAL” entry has been specified (<a href="https://github.com/R-Lum/Luminescence/issues/779" class="external-link">#779</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_aliquotsize-1-1-0"><code>calc_AliquotSize()</code><a class="anchor" aria-label="anchor" href="#calc_aliquotsize-1-1-0"></a></h4>
<ul><li><p>The new argument <code>sample_carrier.diameter</code> allows to specify a value for the diameter of the sample carrier, which up to now was hardcoded to the very common 9.8 mm size (<a href="https://github.com/R-Lum/Luminescence/issues/623" class="external-link">#623</a>).</p></li>
<li><p>Several graphical parameters can now configured via <code>...</code> arguments, so that the plot appearance can be fully customized (<a href="https://github.com/R-Lum/Luminescence/issues/671" class="external-link">#671</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="calc_averagedose-1-1-0"><code>calc_AverageDose()</code><a class="anchor" aria-label="anchor" href="#calc_averagedose-1-1-0"></a></h4>
<ul><li>A bug in the implementation prevented the default plot settings from being modified via <code>...</code> as advertised. Now custom settings are respected (<a href="https://github.com/R-Lum/Luminescence/issues/658" class="external-link">#658</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_finitemixture-1-1-0"><code>calc_FiniteMixture()</code><a class="anchor" aria-label="anchor" href="#calc_finitemixture-1-1-0"></a></h4>
<ul><li><p>The function doesn’t crash anymore if the <code>n.components</code> argument specifies non-consecutive values (<a href="https://github.com/R-Lum/Luminescence/issues/691" class="external-link">#691</a>).</p></li>
<li><p>The function sometimes failed to plot some of the densities when the number of components was set to a value of 8 or more (<a href="https://github.com/R-Lum/Luminescence/issues/704" class="external-link">#704</a>).</p></li>
<li><p>The density plots would not always be coloured completely, but especially for high values of <code>sigmab</code> there would be an unfilled area at the base of the densities (<a href="https://github.com/R-Lum/Luminescence/issues/706" class="external-link">#706</a>).</p></li>
<li><p>If the very first iteration over the components during plotting was skipped, then the function crashed as a quantity computed only in that iteration was not available. This happened for very specific combinations of <code>sigmab</code> and <code>n.components</code> (<a href="https://github.com/R-Lum/Luminescence/issues/708" class="external-link">#708</a>).</p></li>
<li><p>Another crash occurred when height of the largest density curve could not be estimated due to the presence of too many <code>NA</code> values in the intermediate computations (<a href="https://github.com/R-Lum/Luminescence/issues/710" class="external-link">#710</a>).</p></li>
<li><p>The check for significance of each component added to the model has been corrected to be more statistically rigorous (<a href="https://github.com/R-Lum/Luminescence/issues/703" class="external-link">#703</a>).</p></li>
<li><p>Blank gaps appearing to the sides of the proportion of components plot for high number of components have been removed (<a href="https://github.com/R-Lum/Luminescence/issues/713" class="external-link">#713</a>), as well as extra slices appearing due to rounding errors (<a href="https://github.com/R-Lum/Luminescence/issues/715" class="external-link">#715</a>).</p></li>
<li><p>The plot can be better configured via the new <code>plot.criteria</code> argument to control whether the statistical criteria curves should be drawn. Moreover, support for the <code>...</code> options has been added: <code>cex</code> to control the overall scaling, <code>main.densities</code>, <code>main.proportions</code> and <code>main.criteria</code> to set the subplot titles (<a href="https://github.com/R-Lum/Luminescence/issues/717" class="external-link">#717</a>).</p></li>
<li><p>Plots are now generated even when results contain <code>NA</code> values, as they in general don’t affect the plot. However, when that happens we report it in the plot subtitle (<a href="https://github.com/R-Lum/Luminescence/issues/718" class="external-link">#718</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="calc_huntley2006-1-1-0"><code>calc_Huntley2006()</code><a class="anchor" aria-label="anchor" href="#calc_huntley2006-1-1-0"></a></h4>
<ul><li><p>Support was added for multicore computations via the <code>cores</code> argument, and for the nls-fitting control options <code>maxiter</code> and <code>trace</code>.</p></li>
<li><p>The fitting of the simulated curve with the GOK model has been made more robust: when an initial fit of the model fails, the fit is attempted again with 10 different values for <code>D0</code> and the best fit is used. This should reduce the number of occasions in which the error message “Could not fit simulated model curve, check suitability of model and parameters” is reported (<a href="https://github.com/R-Lum/Luminescence/issues/660" class="external-link">#660</a>).</p></li>
<li><p>The function crashed if all simulated Lx/Tx values were identical and approximately zero, which could happen if the <code>rhop</code> argument was set to a large enough value (<a href="https://github.com/R-Lum/Luminescence/issues/725" class="external-link">#725</a>).</p></li>
<li><p>An error message has been improved so that it doesn’t suggest setting the ‘fit.bounds = FALSE’ argument if it has already been set (<a href="https://github.com/R-Lum/Luminescence/issues/729" class="external-link">#729</a>).</p></li>
<li><p>The computation of the x-axis limits has been improved to avoid having too much unused horizontal space, especially for <code>mode = "extrapolation"</code> (<a href="https://github.com/R-Lum/Luminescence/issues/731" class="external-link">#731</a>).</p></li>
<li><p>The scaling of the plot can now be controlled via the <code>cex</code> argument (<a href="https://github.com/R-Lum/Luminescence/issues/735" class="external-link">#735</a>).</p></li>
<li><p>The plot margins are set more precisely and avoid the summary text to be cut off (<a href="https://github.com/R-Lum/Luminescence/issues/737" class="external-link">#737</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="calc_mindose-1-1-0"><code>calc_MinDose()</code><a class="anchor" aria-label="anchor" href="#calc_mindose-1-1-0"></a></h4>
<ul><li>The function now warns if the number of bootstrap replicates is too low to perform the loess fitting (<a href="https://github.com/R-Lum/Luminescence/issues/721" class="external-link">#721</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_osllxtxratio-1-1-0"><code>calc_OSLLxTxRatio()</code><a class="anchor" aria-label="anchor" href="#calc_osllxtxratio-1-1-0"></a></h4>
<ul><li><p>The function returned a warning for wrong integral settings for the <code>Tx</code> curve even if no <code>Tx</code> curve was provided.</p></li>
<li><p>The function does not check any more of different object types for <code>Lx.data</code> and <code>Tx.data</code> but validate objects for allowed types (this should have no user-visible effects).</p></li>
</ul></div>
<div class="section level4">
<h4 id="convert_concentration2doserate-1-1-0"><code>convert_Concentration2DoseRate()</code><a class="anchor" aria-label="anchor" href="#convert_concentration2doserate-1-1-0"></a></h4>
<ul><li>The function validates its input values more thoroughly (<a href="https://github.com/R-Lum/Luminescence/issues/613" class="external-link">#613</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="extract_irradiationtimes-1-1-0"><code>extract_IrradiationTimes()</code><a class="anchor" aria-label="anchor" href="#extract_irradiationtimes-1-1-0"></a></h4>
<ul><li><p>The function tries a little bit harder to extract the correct duration of TL steps, rendering the data output hopefully a little bit more intelligible (<a href="https://github.com/R-Lum/Luminescence/issues/651" class="external-link">#651</a>).</p></li>
<li><p>The function gained a new argument called <code>return_same_as_input</code>, with default value of <code>FALSE</code>. If set to <code>TRUE</code>, the input object (usually an <code>RLum.Analysis</code> object or a <code>list</code> of them) is returned with updated info elements for <code>IRR_TIME</code> and <code>TIMESINCEIRR</code>. This makes the <code>RLum.Analysis</code> object compatible with functions that explicitly search for those two objects, such as those in the <code>'OSLdecomposition'</code> package (<a href="https://github.com/R-Lum/Luminescence/issues/752" class="external-link">#752</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="fit_doseresponsecurve-1-1-0"><code>fit_DoseResponseCurve()</code><a class="anchor" aria-label="anchor" href="#fit_doseresponsecurve-1-1-0"></a></h4>
<ul><li><p>The function now allocates less memory for storing intermediate values (<a href="https://github.com/R-Lum/Luminescence/issues/610" class="external-link">#610</a>).</p></li>
<li><p>Add initial support for <code>OTORX</code> fitting following Lawless and Timar-Gabor</p></li>
</ul><ol start="2024" style="list-style-type: decimal"><li>(<a href="https://github.com/R-Lum/Luminescence/issues/677" class="external-link">#677</a>). The code implementation follows the Python reference by <a href="https://github.com/jll2/LumDRC/blob/main/otorx.py" class="external-link">jll2</a> with an addition for an allowed offset parameter <code>a</code> set if <code>fit.force_through_origin = FALSE</code>. This also enables to support <code>mode = "extrapolation"</code> (thanks to John Lawless for his input).</li>
</ol><ul><li><p>The code of the function was optimised in several places to improve code readability and reduce redundant calls.</p></li>
<li><p>The models for <code>EXP</code>, <code>EXP+LIN</code>, <code>EXP+EXP</code> and <code>GOK</code> are now available in C++. This cut the required computation times in half in benchmark scenarios. More importantly, this performance scales with the number of Monte Carlo runs.</p></li>
</ul></div>
<div class="section level4">
<h4 id="fit_emissionspectra-1-1-0"><code>fit_EmissionSpectra()</code><a class="anchor" aria-label="anchor" href="#fit_emissionspectra-1-1-0"></a></h4>
<ul><li>Fix crash when attempting to plot a frame with non-positive counts (<a href="https://github.com/R-Lum/Luminescence/issues/761" class="external-link">#761</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="fit_lmcurve-1-1-0"><code>fit_LMCurve()</code><a class="anchor" aria-label="anchor" href="#fit_lmcurve-1-1-0"></a></h4>
<ul><li><p>If the user asks logarithmic scaling in the y-axis, using either <code>log = "y"</code> or <code>log = "xy"</code>, this is now ignored when plotting residuals and component contributions (<a href="https://github.com/R-Lum/Luminescence/issues/755" class="external-link">#755</a>).</p></li>
<li><p>The plot has been slightly reworked to reduce the cases of “margin too large” errors and to work better at high settings of <code>cex</code> (<a href="https://github.com/R-Lum/Luminescence/issues/757" class="external-link">#757</a>).</p></li>
<li><p>Missing values in the input data are now silently removed (<a href="https://github.com/R-Lum/Luminescence/issues/759" class="external-link">#759</a>, <a href="https://github.com/R-Lum/Luminescence/issues/763" class="external-link">#763</a>).</p></li>
<li><p>The plotting of residuals, component contributions and legend can now be disabled, and the legend position can be controlled (<a href="https://github.com/R-Lum/Luminescence/issues/785" class="external-link">#785</a>).</p></li>
<li><p>The error computed when using option <code>fit.calcError = TRUE</code> is now returned correctly, instead of being left to <code>NA</code> (<a href="https://github.com/R-Lum/Luminescence/issues/789" class="external-link">#789</a>).</p></li>
<li><p>Argument <code>bg.subtraction</code> also accepts the option <code>"none"</code> to disable background subtraction even if <code>values.bg</code> is provided (<a href="https://github.com/R-Lum/Luminescence/issues/795" class="external-link">#795</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="fit_surfaceexposure-1-1-0"><code>fit_SurfaceExposure()</code><a class="anchor" aria-label="anchor" href="#fit_surfaceexposure-1-1-0"></a></h4>
<ul><li>It is now possible to specify different values for the light attenuation coefficient <code>mu</code> when a list of input data is provided (<a href="https://github.com/R-Lum/Luminescence/issues/667" class="external-link">#667</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="fit_thermalquenching-1-1-0"><code>fit_ThermalQuenching()</code><a class="anchor" aria-label="anchor" href="#fit_thermalquenching-1-1-0"></a></h4>
<ul><li><p>The <code>trace</code> option, which can be specified via the <code>method_control</code> argument, is now respected.</p></li>
<li><p>The model now get internally reformulated into a mathematically equivalent expression that is easier to fit. This should reduce the number of occasions when the function fails to find a valid solution and improve the uncertainty estimation (<a href="https://github.com/R-Lum/Luminescence/issues/696" class="external-link">#696</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="get_rlum-1-1-0"><code>get_RLum()</code><a class="anchor" aria-label="anchor" href="#get_rlum-1-1-0"></a></h4>
<ul><li>The argument <code>subset</code> can now be provided as a character that represents a logical expression. Before, it always required a logical expression, but this may lead to odd effects due to the early evaluation happening in R and might not be wanted. Providing <code>subset</code> as a character is now a viable workaround in those situations.</li>
</ul></div>
<div class="section level4">
<h4 id="import_data-1-1-0"><code>import_Data()</code><a class="anchor" aria-label="anchor" href="#import_data-1-1-0"></a></h4>
<ul><li>The function uses the most common formats (BINX and XSYG) before trying all others.</li>
</ul></div>
<div class="section level4">
<h4 id="merge_rlumdatacurve-1-1-0"><code>merge_RLum.Data.Curve()</code><a class="anchor" aria-label="anchor" href="#merge_rlumdatacurve-1-1-0"></a></h4>
<ul><li>The function does no longer stops for differing channel resolutions, but it does issue a warning. The user is responsible for the consequences.</li>
</ul></div>
<div class="section level4">
<h4 id="plot_detplot-1-1-0"><code>plot_DetPlot()</code><a class="anchor" aria-label="anchor" href="#plot_detplot-1-1-0"></a></h4>
<ul><li>The logic for multicore support was incorrect, which resulted in always starting a parallel cluster even when <code>multicore = FALSE</code> (<a href="https://github.com/R-Lum/Luminescence/issues/742" class="external-link">#742</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_doseresponsecurve-1-1-0"><code>plot_DoseResponseCurve()</code><a class="anchor" aria-label="anchor" href="#plot_doseresponsecurve-1-1-0"></a></h4>
<ul><li><p>The response curve always tries to the get the 0 point in the mode <code>interpolation</code> and <code>alternate</code> (<a href="https://github.com/R-Lum/Luminescence/issues/677" class="external-link">#677</a>).</p></li>
<li><p>Minor graphical polish to limit overplotting and also plot a density curve for the <code>L_n/T_n</code> signal.</p></li>
<li><p>If <code>mode = "alternate"</code>, the message that the equivalent dose could not be fitted is no longer shown.</p></li>
<li><p>Argument <code>cex.global</code> has been removed and will be silently ignored (<a href="https://github.com/R-Lum/Luminescence/issues/831" class="external-link">#831</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_drcsummary-1-1-0"><code>plot_DRCSummary()</code><a class="anchor" aria-label="anchor" href="#plot_drcsummary-1-1-0"></a></h4>
<ul><li>Add support for <code>fit.method = 'OTORX'</code> following the change in <code><a href="../reference/fit_DoseResponseCurve.html">fit_DoseResponseCurve()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/677" class="external-link">#677</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_drtresults-1-1-0"><code>plot_DRTResults()</code><a class="anchor" aria-label="anchor" href="#plot_drtresults-1-1-0"></a></h4>
<ul><li><p>The summary and legend texts now scale better at non-default cex settings (<a href="https://github.com/R-Lum/Luminescence/issues/765" class="external-link">#765</a>).</p></li>
<li><p>Argument <code>given.dose</code> is better validated against misspecifications, and setting it to 0 is equivalent to leaving it at its default <code>NULL</code> value, which corresponds to avoiding data normalization (<a href="https://github.com/R-Lum/Luminescence/issues/767" class="external-link">#767</a>, <a href="https://github.com/R-Lum/Luminescence/issues/799" class="external-link">#799</a>).</p></li>
<li><p>The function crashed when multiple inputs were used with <code>boxplot = TRUE</code> and all preheat values were identical (<a href="https://github.com/R-Lum/Luminescence/issues/769" class="external-link">#769</a>).</p></li>
<li><p>Plot title, summary text and legend are now better positioned (<a href="https://github.com/R-Lum/Luminescence/issues/773" class="external-link">#773</a>, <a href="https://github.com/R-Lum/Luminescence/issues/774" class="external-link">#774</a>, <a href="https://github.com/R-Lum/Luminescence/issues/781" class="external-link">#781</a>).</p></li>
<li><p>A bug in the way colours and symbols are assigned to plot points has been fixed (<a href="https://github.com/R-Lum/Luminescence/issues/777" class="external-link">#777</a>).</p></li>
<li><p>The horizontal axis doesn’t include anymore a spurious extra tick that didn’t correspond to any aliquot (<a href="https://github.com/R-Lum/Luminescence/issues/783" class="external-link">#783</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_growthcurve-1-1-0"><code>plot_GrowthCurve()</code><a class="anchor" aria-label="anchor" href="#plot_growthcurve-1-1-0"></a></h4>
<ul><li><p>Add support for <code>fit.method = 'OTORX'</code> following the change in <code><a href="../reference/fit_DoseResponseCurve.html">fit_DoseResponseCurve()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/677" class="external-link">#677</a>).</p></li>
<li><p>Argument <code>cex.global</code> has been removed and will be silently ignored (<a href="https://github.com/R-Lum/Luminescence/issues/831" class="external-link">#831</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_histogram-1-1-0"><code>plot_Histogram()</code><a class="anchor" aria-label="anchor" href="#plot_histogram-1-1-0"></a></h4>
<ul><li><p>The function now doesn’t produce warnings when the input consists of a single-column data frame, as it assumes that the De error is 10^-9 (<a href="https://github.com/R-Lum/Luminescence/issues/744" class="external-link">#744</a>).</p></li>
<li><p>The right margin is now smaller when errors are not plotted, as there is no need to leave space for the standard error axis (<a href="https://github.com/R-Lum/Luminescence/issues/748" class="external-link">#748</a>).</p></li>
<li><p>The summary text now scales better at non-default cex settings (<a href="https://github.com/R-Lum/Luminescence/issues/750" class="external-link">#750</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_kde-1-1-0"><code>plot_KDE()</code><a class="anchor" aria-label="anchor" href="#plot_kde-1-1-0"></a></h4>
<ul><li><p>The function validates its input values more thoroughly (<a href="https://github.com/R-Lum/Luminescence/issues/635" class="external-link">#635</a>).</p></li>
<li><p>Setting <code>summary.pos</code> to one of “left”, “center” or “right” resulted in the summary table not being visible (<a href="https://github.com/R-Lum/Luminescence/issues/642" class="external-link">#642</a>).</p></li>
<li><p>Argument <code>output</code> has been removed, and it will be ignored if set (<a href="https://github.com/R-Lum/Luminescence/issues/700" class="external-link">#700</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_radialplot-1-1-0"><code>plot_RadialPlot()</code><a class="anchor" aria-label="anchor" href="#plot_radialplot-1-1-0"></a></h4>
<ul><li><p>The function validates its input values more thoroughly (<a href="https://github.com/R-Lum/Luminescence/issues/639" class="external-link">#639</a>).</p></li>
<li><p>The legend text now scales better at non-default cex settings (<a href="https://github.com/R-Lum/Luminescence/issues/746" class="external-link">#746</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_rlumdatacurve-1-1-0"><code>plot_RLum.Data.Curve()</code><a class="anchor" aria-label="anchor" href="#plot_rlumdatacurve-1-1-0"></a></h4>
<ul><li><p>We added comprehensive support for base R plotting arguments utilised by <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot.default()</a></code> and <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code>. This enhancement ensures that all available arguments are fully supported (<a href="https://github.com/R-Lum/Luminescence/issues/646" class="external-link">#646</a>).</p></li>
<li><p>The function gained a new logical argument named <code>auto_scale</code>. When set in conjunction with either <code>xlim</code> or <code>ylim</code>, this argument automatically adjusts the plot range to align with the corresponding settings for <code>xlim</code> or <code>ylim</code>. For instance, if a user intends to plot OSL curves but initially selects the <code>xlim</code> range <code>c(10:30)</code> to examine the background, the initial count values may be excessively large, resulting in limited visibility. With the introduction of the <code>auto_scale</code> option, the <code>ylim</code> values are automatically adjusted to compensate for this scenario. The <code>auto_scale</code> argument is also accessible through <code><a href="../reference/plot_RLum.Analysis.html">plot_RLum.Analysis()</a></code> and <code><a href="../reference/plot_RLum.html">plot_RLum()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/646" class="external-link">#646</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="plot_rlumdataspectrum-1-1-0"><code>plot_RLum.Data.Spectrum()</code><a class="anchor" aria-label="anchor" href="#plot_rlumdataspectrum-1-1-0"></a></h4>
<ul><li><p>The channel-wise background subtraction was essentially broken if a background spectrum with the same setting was provided. The function always calculated the arithmetic mean. This was fixed, and the manual updated accordingly.</p></li>
<li><p>If a background spectrum was provided, the behaviour of the plot output was sometimes hard to understand without knowledge of the underlying code. This behaviour was improved and now <code>ylim</code> will also affect the background spectrum if <code>bg.channels = NULL</code> (the default).</p></li>
<li><p>The function could crash if column names were missing and the 1bg.spectrum` argument was used (<a href="https://github.com/R-Lum/Luminescence/issues/726" class="external-link">#726</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="read_tiff2r-1-1-0"><code>read_TIFF2R()</code><a class="anchor" aria-label="anchor" href="#read_tiff2r-1-1-0"></a></h4>
<ul><li><p>The argument <code>file</code> can now be provided as a <code>list</code> or a character vector.</p></li>
<li><p>The function gained a new logical argument called <code>merge2stack</code> that can be used if <code>file</code> is either a <code>list</code> or a character vector of length &gt; 1. If set to <code>TRUE</code>, images are combined into one image stack.</p></li>
</ul></div>
<div class="section level4">
<h4 id="read_xsyg2r-1-1-0"><code>read_XSYG2R()</code><a class="anchor" aria-label="anchor" href="#read_xsyg2r-1-1-0"></a></h4>
<ul><li><p>A redundant computation has been removed, and the function is now marginally faster on files when the detector is not a spectrometer (<a href="https://github.com/R-Lum/Luminescence/issues/753" class="external-link">#753</a>).</p></li>
<li><p>Prepare import for an updated version of LexStudio2 (&gt;=v2.31.1) where the horizontal hardware binning finally works after &gt;10 years, but the changes introduce a lot of <code>NaN</code> values that would cause a crash of the function.</p></li>
<li><p>Minor code refactoring for a small speed boost if spectrometer measurements are imported.</p></li>
</ul></div>
<div class="section level4">
<h4 id="scale_gammadose-1-1-0"><code>scale_GammaDose()</code><a class="anchor" aria-label="anchor" href="#scale_gammadose-1-1-0"></a></h4>
<ul><li>Argument <code>plot_singlePanels</code> now works as documented, that is it produces all plots in a single page when set to <code>FALSE</code> (default), and one plot per page when set to <code>TRUE</code> (<a href="https://github.com/R-Lum/Luminescence/issues/698" class="external-link">#698</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="sort_rlum-1-1-0"><code>sort_RLum()</code><a class="anchor" aria-label="anchor" href="#sort_rlum-1-1-0"></a></h4>
<ul><li><p>The sorting mechanism for <code>RLum.Analysis</code> objects has been enhanced. It now enables sorting based on multiple parameters, including sorting all available <code>info_elements</code> in a prioritised manner (<a href="https://github.com/R-Lum/Luminescence/issues/606" class="external-link">#606</a>, <a href="https://github.com/R-Lum/Luminescence/issues/620" class="external-link">#620</a>).</p></li>
<li><p>Sorting now works on a list of <code>RLum.Analysis</code> objects. If the list contains elements of a different type, they are passed through unchanged. The output is again a list (<a href="https://github.com/R-Lum/Luminescence/issues/620" class="external-link">#620</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="structure_rlum-1-1-0"><code>structure_RLum()</code><a class="anchor" aria-label="anchor" href="#structure_rlum-1-1-0"></a></h4>
<ul><li>The function now returns a less messy data frame because it encapsulates <code>.pid</code> and <code>info</code> as lists within the data frame. The function is primarily used internally to facilitate a rapid exploration of <code>RLum.Analysis</code> object structures. However, the change may potentially break existing code in extremely rare circumstances.</li>
</ul></div>
<div class="section level4">
<h4 id="template_drac-1-1-0"><code>template_DRAC()</code><a class="anchor" aria-label="anchor" href="#template_drac-1-1-0"></a></h4>
<ul><li>The function now throws messages instead of warnings for wanted coercions; however, it will be hard on failed coercions that would cause <code><a href="../reference/use_DRAC.html">use_DRAC()</a></code> to fail.</li>
</ul></div>
<div class="section level4">
<h4 id="use_drac-1-1-0"><code>use_DRAC()</code><a class="anchor" aria-label="anchor" href="#use_drac-1-1-0"></a></h4>
<ul><li><p>The function now checks for DRAC specific URL parts if a custom URL is provided; this avoids long searches for unspecific errors.</p></li>
<li><p>Due to the internal masking of submitted values, the initial row order got mixed up; regression from <a href="https://github.com/R-Lum/Luminescence/issues/438" class="external-link">#438</a>. The order is maintained and the row index corrected; in other words, the masking should now be again invisible to the user.</p></li>
</ul></div>
<div class="section level4">
<h4 id="verify_singlegraindata-1-1-0"><code>verify_SingleGrainData()</code><a class="anchor" aria-label="anchor" href="#verify_singlegraindata-1-1-0"></a></h4>
<ul><li>The function crashed if an object originating from <code><a href="../reference/read_XSYG2R.html">read_XSYG2R()</a></code> contained positions in its <code>info</code> field (<a href="https://github.com/R-Lum/Luminescence/issues/740" class="external-link">#740</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="write_r2tiff-1-1-0"><code>write_R2TIFF()</code><a class="anchor" aria-label="anchor" href="#write_r2tiff-1-1-0"></a></h4>
<ul><li>The function now supports the export of more than one image slice.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="internals-1-1-0">Internals<a class="anchor" aria-label="anchor" href="#internals-1-1-0"></a></h3>
<ul><li>The internal function <code>create_UID()</code> has undergone further optimisation for speed, resulting in a significant performance improvement. Additionally, it now generates a hash value with a consistent length instead of a time stamp with a random number.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="changes-in-version-101-2025-03-07">Changes in version 1.0.1 (2025-03-07)<a class="anchor" aria-label="anchor" href="#changes-in-version-101-2025-03-07"></a></h2><p class="text-muted">CRAN release: 2025-03-07</p>
<div class="section level3">
<h3 id="bugfixes-1-0-1">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-1-0-1"></a></h3>
<div class="section level4">
<h4 id="analyse_basar-1-0-1"><code>analyse_baSAR()</code><a class="anchor" aria-label="anchor" href="#analyse_basar-1-0-1"></a></h4>
<ul><li>The number of aliquots used was only partially reported if no aliquots were removed, resulting in an incomplete message in the output to the terminal.</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_fadingmeasurement-1-0-1"><code>analyse_FadingMeasurement()</code><a class="anchor" aria-label="anchor" href="#analyse_fadingmeasurement-1-0-1"></a></h4>
<ul><li><p>The function now checks that an input object generated from an XSYG file contains irradiation steps and returns an error if none are available, instead of producing an unhelpful output (<a href="https://github.com/R-Lum/Luminescence/issues/588" class="external-link">#588</a>).</p></li>
<li><p>A regression in <code><a href="../reference/plot_RLum.Analysis.html">plot_RLum.Analysis()</a></code> caused part of the plot of the luminescence curves to be garbled (<a href="https://github.com/R-Lum/Luminescence/issues/589" class="external-link">#589</a>).</p></li>
<li><p>The function crashed on a file generated by <code><a href="../reference/read_XSYG2R.html">read_XSYG2R()</a></code> if the number of curves available after removal of the irradiation step was not enough for the the fading measurement to be analysed (<a href="https://github.com/R-Lum/Luminescence/issues/603" class="external-link">#603</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="analyse_pirirsequence-1-0-1"><code>analyse_pIRIRSequence()</code><a class="anchor" aria-label="anchor" href="#analyse_pirirsequence-1-0-1"></a></h4>
<ul><li>The check on the minimum device plot size used to fail if only one dimension was below our minimum threshold, and when it was incorrectly triggered by the floating point values computed by <code><a href="https://rdrr.io/r/grDevices/dev.size.html" class="external-link">grDevices::dev.size()</a></code>, which sometimes could be spuriously just below threshold. We also changed the minimum device size from 18 to 16 inches (<a href="https://github.com/R-Lum/Luminescence/issues/593" class="external-link">#593</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_cosmicdoserate-1-0-1"><code>calc_CosmicDoseRate()</code><a class="anchor" aria-label="anchor" href="#calc_cosmicdoserate-1-0-1"></a></h4>
<ul><li>The function crashed if the number of depths provided exceeded that of the densities and the latter contained more than one value (<a href="https://github.com/R-Lum/Luminescence/issues/595" class="external-link">#595</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_fadingcorr-1-0-1"><code>calc_FadingCorr()</code><a class="anchor" aria-label="anchor" href="#calc_fadingcorr-1-0-1"></a></h4>
<ul><li><p>The function sporadically returned an implausibly large error estimate if any of the Monte Carlo simulations produced an outlier solution (<a href="https://github.com/R-Lum/Luminescence/issues/597" class="external-link">#597</a>).</p></li>
<li><p>The function now allocates only as much memory as required if the user specifies a value for <code>n.MC</code> other than <code>"auto"</code>, which brings a small speed-up if fewer than 10 million samples are requested.</p></li>
<li><p>Input arguments are now more thoroughly checked to avoid warnings or unhelpful messages (<a href="https://github.com/R-Lum/Luminescence/issues/599" class="external-link">#599</a>).</p></li>
</ul></div>
<div class="section level4">
<h4 id="calc_fastratio-1-0-1"><code>calc_FastRatio()</code><a class="anchor" aria-label="anchor" href="#calc_fastratio-1-0-1"></a></h4>
<ul><li>The function crashed if the input was an RLum.Analysis object (<a href="https://github.com/R-Lum/Luminescence/issues/586" class="external-link">#586</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_abanicoplot-1-0-1"><code>plot_AbanicoPlot()</code><a class="anchor" aria-label="anchor" href="#plot_abanicoplot-1-0-1"></a></h4>
<ul><li>The <code>xlim</code>, <code>ylim</code> and <code>zlim</code> parameters are now better validated to avoid possible crashes if misspecified (<a href="https://github.com/R-Lum/Luminescence/issues/581" class="external-link">#581</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_rlumanalysis-1-0-1"><code>plot_RLum.Analysis()</code><a class="anchor" aria-label="anchor" href="#plot_rlumanalysis-1-0-1"></a></h4>
<ul><li>The function reset incorrectly the graphical parameters for the case <code>plot_singlePanels = TRUE</code>. This caused a regression in the plot output from <code><a href="../reference/analyse_FadingMeasurement.html">analyse_FadingMeasurement()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/589" class="external-link">#589</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="sort_rlum-1-0-1"><code>sort_RLum()</code><a class="anchor" aria-label="anchor" href="#sort_rlum-1-0-1"></a></h4>
<ul><li><p>The function doesn’t crash when multiple fields are specified, although the actual sort at the moment occurs only on the first field (<a href="https://github.com/R-Lum/Luminescence/issues/606" class="external-link">#606</a>).</p></li>
<li><p>Attempting to sort an empty object returns the object itself instead of crashing (<a href="https://github.com/R-Lum/Luminescence/issues/608" class="external-link">#608</a>).</p></li>
</ul><hr></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="changes-in-version-100-2025-02-21">Changes in version 1.0.0 (2025-02-21)<a class="anchor" aria-label="anchor" href="#changes-in-version-100-2025-02-21"></a></h2><p class="text-muted">CRAN release: 2025-02-21</p>
<div class="section level3">
<h3 id="new-functions-1-0-0">New functions<a class="anchor" aria-label="anchor" href="#new-functions-1-0-0"></a></h3>
<ul><li><p><code><a href="../reference/apply_Crosstalk.html">apply_Crosstalk()</a></code>, <code><a href="../reference/calc_MoransI.html">calc_MoransI()</a></code>, <code><a href="../reference/plot_SingleGrainDisc.html">plot_SingleGrainDisc()</a></code> and <code><a href="../reference/plot_MoranScatterplot.html">plot_MoranScatterplot()</a></code> were contributed by Anna-Maartje de Boer and Luc Steinbuch (<a href="https://github.com/R-Lum/Luminescence/issues/560" class="external-link">#560</a>). An introductory example on how to use these functions is available by executing <code><a href="../articles/crosstalk.html">vignette("crosstalk")</a></code>.</p></li>
<li><p><code><a href="../reference/calc_EED_Model.html">calc_EED_Model()</a></code> models incomplete and heterogeneous bleaching of mobile grains after Guibert et al. (2017). Along with the function, the new <code>ExampleData.MortarData</code> data set was added.</p></li>
<li><p><code><a href="../reference/fit_DoseResponseCurve.html">fit_DoseResponseCurve()</a></code> and <code><a href="../reference/plot_DoseResponseCurve.html">plot_DoseResponseCurve()</a></code> are two new functions derived from <code><a href="../reference/plot_GrowthCurve.html">plot_GrowthCurve()</a></code>: the first only performs the fitting of a dose-response curve, while the second plots it. This brings greater flexibility and increased speed, as plotting is now independent of fitting (<a href="https://github.com/R-Lum/Luminescence/issues/141" class="external-link">#141</a>).</p></li>
<li><p><code><a href="../reference/melt_RLum.html">melt_RLum()</a></code>: Creates a new flat <code>data.frame</code> that can be used for instance in combination with <code>'ggplot2'</code>. It works only on <code>RLum.Data.Curve-class</code> and <code>RLum.Analysis-class</code> objects and lists of such objects.</p></li>
<li><p><code><a href="../reference/merge_RLum.Data.Spectrum.html">merge_RLum.Data.Spectrum()</a></code>: This new function allows to merge two or more <code>RLum.Data.Spectrum</code> objects in different ways (<a href="https://github.com/R-Lum/Luminescence/issues/368" class="external-link">#368</a>).</p></li>
<li><p><code>add_metadata()</code>, <code>rename_metadata()</code>, <code>replace_metadata()</code>: These function allow to manipulate the metadata of <code>Risoe.BINfileData</code>, <code>RLum.Analysis</code> and <code>RLum.Data</code> objects (<a href="https://github.com/R-Lum/Luminescence/issues/480" class="external-link">#480</a>, fixed in <a href="https://github.com/R-Lum/Luminescence/issues/514" class="external-link">#514</a>, <a href="https://github.com/R-Lum/Luminescence/issues/524" class="external-link">#524</a>, <a href="https://github.com/R-Lum/Luminescence/issues/525" class="external-link">#525</a>, <a href="https://github.com/R-Lum/Luminescence/issues/527" class="external-link">#527</a>, <a href="https://github.com/R-Lum/Luminescence/issues/534" class="external-link">#534</a>, <a href="https://github.com/R-Lum/Luminescence/issues/545" class="external-link">#545</a>).</p></li>
<li><p><code><a href="../reference/sort_RLum.html">sort_RLum()</a></code>: Allows to sort the records of <code>RLum.Analysis</code> and <code>Risoe.BINfileData</code> objects according to a given slot or info element (<a href="https://github.com/R-Lum/Luminescence/issues/528" class="external-link">#528</a>).</p></li>
<li><p><code><a href="../reference/view.html">view()</a></code>: Provides a shortcut to the <code><a href="https://rdrr.io/r/utils/View.html" class="external-link">utils::View()</a></code> spreadsheet-like data viewer tailored to the objects in the package (<a href="https://github.com/R-Lum/Luminescence/issues/489" class="external-link">#489</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-1-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-0"></a></h3>
<ul><li><p>We have dropped our dependency on the <code>readxl</code> package: functions <code><a href="../reference/analyse_baSAR.html">analyse_baSAR()</a></code> and <code><a href="../reference/use_DRAC.html">use_DRAC()</a></code> now do not accept XLS files anymore but CSV files instead (<a href="https://github.com/R-Lum/Luminescence/issues/237" class="external-link">#237</a>). CSV files can be easily generated from XLS files by Excel or similar applications, or by reading them with <code>readxl::read_excel()</code> and saving them with <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv()</a></code>.</p></li>
<li><p>The <code>plot.single</code> option, which was available for several functions, sometimes under a slightly different name, has now been renamed to <code>plot_singlePanels</code> for overall consistency and clarity. Function <code><a href="../reference/scale_GammaDose.html">scale_GammaDose()</a></code> used that option but gave it the opposite meaning: now also this function conforms to the rest of the package. The use of the older names is now deprecated and will produce a warning (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</p></li>
<li><p>The <code>NumberIterations.MC</code> option of <code><a href="../reference/plot_GrowthCurve.html">plot_GrowthCurve()</a></code> has now been renamed to <code>n.MC</code> for consistency with other functions. Potentially affected are also <code><a href="../reference/analyse_Al2O3C_ITC.html">analyse_Al2O3C_ITC()</a></code>, <code><a href="../reference/analyse_baSAR.html">analyse_baSAR()</a></code>, <code><a href="../reference/analyse_SAR.CWOSL.html">analyse_SAR.CWOSL()</a></code>, <code><a href="../reference/analyse_SAR.TL.html">analyse_SAR.TL()</a></code>, <code><a href="../reference/calc_Huntley2006.html">calc_Huntley2006()</a></code>, <code><a href="../reference/calc_Lamothe2003.html">calc_Lamothe2003()</a></code>, as they may pass that option <code><a href="../reference/plot_GrowthCurve.html">plot_GrowthCurve()</a></code> via their <code>...</code> argument. The use of the older name is now deprecated and will produce a warning (<a href="https://github.com/R-Lum/Luminescence/issues/546" class="external-link">#546</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="renamed-functions-and-deprecations-1-0-0">Renamed functions and deprecations<a class="anchor" aria-label="anchor" href="#renamed-functions-and-deprecations-1-0-0"></a></h3>
<ul><li><p>Function <code><a href="../reference/Analyse_SAR.OSLdata.html">Analyse_SAR.OSLdata()</a></code> is now officially deprecated, <code><a href="../reference/analyse_SAR.CWOSL.html">analyse_SAR.CWOSL()</a></code> should be used instead (<a href="https://github.com/R-Lum/Luminescence/issues/216" class="external-link">#216</a>).</p></li>
<li><p>Functions <code><a href="../reference/convert_CW2pHMi.html">CW2pHMi()</a></code>, <code><a href="../reference/convert_CW2pLM.html">CW2pLM()</a></code>, <code><a href="../reference/convert_CW2pLMi.html">CW2pLMi()</a></code> and <code><a href="../reference/convert_CW2pPMi.html">CW2pPMi()</a></code> have been renamed to <code><a href="../reference/convert_CW2pHMi.html">convert_CW2pHMi()</a></code>, <code><a href="../reference/convert_CW2pLM.html">convert_CW2pLM()</a></code>, <code><a href="../reference/convert_CW2pLMi.html">convert_CW2pLMi()</a></code> and <code><a href="../reference/convert_CW2pPMi.html">convert_CW2pPMi()</a></code>, respectively. The use of the older names is now deprecated and will produce a warning (<a href="https://github.com/R-Lum/Luminescence/issues/499" class="external-link">#499</a>).</p></li>
<li><p>Function <code><a href="../reference/Second2Gray.html">Second2Gray()</a></code> has been renamed to <code><a href="../reference/convert_Second2Gray.html">convert_Second2Gray()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/498" class="external-link">#498</a>).</p></li>
<li><p>Function <code><a href="../reference/PSL2Risoe.BINfileData.html">PSL2Risoe.BINfileData()</a></code> has been renamed to <code><a href="../reference/convert_PSL2Risoe.BINfileData.html">convert_PSL2Risoe.BINfileData()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/555" class="external-link">#555</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-dependencies-1-0-0">New dependencies<a class="anchor" aria-label="anchor" href="#new-dependencies-1-0-0"></a></h3>
<ul><li>We have added package <code>’vdiffr’</code> as dependency in <code>suggests</code>. The package enables us to automatically verify the consistency of plot outputs generated by package functions against reference figures captured earlier. Although this new dependency does not have any user-visible impact, it is required when building <code>’Luminescence’</code> from source. The primary advantage lies in the developer’s domain, as it ensures that modifications to functions do not inadvertently alter plot outputs.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-1-0-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-1-0-0"></a></h3>
<div class="section level4">
<h4 id="analyse_al2o3c_crosstalk-1-0-0"><code>analyse_Al2O3C_CrossTalk()</code><a class="anchor" aria-label="anchor" href="#analyse_al2o3c_crosstalk-1-0-0"></a></h4>
<ul><li>The function doesn’t crash anymore if option <code>recordType</code> is specified and none of the records in the data set is of that type (<a href="https://github.com/R-Lum/Luminescence/issues/487" class="external-link">#487</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_basar-1-0-0"><code>analyse_baSAR()</code><a class="anchor" aria-label="anchor" href="#analyse_basar-1-0-0"></a></h4>
<ul><li>Argument <code>XLS_file</code> has been replaced by <code>CSV_file</code> and, as mentioned above, the function now only accepts CSV files as input (<a href="https://github.com/R-Lum/Luminescence/issues/237" class="external-link">#237</a>).</li>
<li>Add support for <code>recordType</code> passed to <code>get_RLum</code> in the additional arguments.</li>
<li>Option <code>plot.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</li>
<li>The function crashed if the number of MCMC iterations was set equal to the thinning interval; on the other hand, we saw errors reported from JAGS if the number of MCMC iterations was not at least double the thinning interval. To address this, we slightly retouched our automatic setting of the thinning interval (which was problematic only if the number of MCMC iterations was extremely low); on the other hand, if a user sets a thinning interval that is too high, we now reset it to a lower value and raise a warning (<a href="https://github.com/R-Lum/Luminescence/issues/407" class="external-link">#407</a>).</li>
<li>The function crashed if a <code>Risoe.BINFileData</code> object was provided and the argument <code>irradiation_times</code> was set; fixed.</li>
<li>The function was supposed to remove non-OSL curves from the dataset, but it almost never did; fixed.</li>
<li>The function is more robust against input that may have been subset inconsistently (<a href="https://github.com/R-Lum/Luminescence/issues/517" class="external-link">#517</a>).</li>
<li>The function doesn’t crash but reports more helpful messages in case the user overrides the default set of monitored variables using <code>variable.names</code> within the <code>method_control</code> argument (<a href="https://github.com/R-Lum/Luminescence/issues/521" class="external-link">#521</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_sarcwosl-1-0-0"><code>analyse_SAR.CWOSL()</code><a class="anchor" aria-label="anchor" href="#analyse_sarcwosl-1-0-0"></a></h4>
<ul><li>The function crashed for a list input that led to <code>NULL</code> for various reasons (e.g., unsuitable set of curves). Here the self-call attempted to extract information from the results that did not exist in the first place instead of returning <code>NULL</code>; fixed.</li>
<li>The produced <code>RLum.Results</code> object now also contains a column for the grain (<a href="https://github.com/R-Lum/Luminescence/issues/553" class="external-link">#553</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_fadingmeasurement-1-0-0"><code>analyse_FadingMeasurement()</code><a class="anchor" aria-label="anchor" href="#analyse_fadingmeasurement-1-0-0"></a></h4>
<ul><li>The function now checks for the version of the BIN-file that originated the <code>RLum.Analysis</code> object given as input, and reports a message if a version older than 5 was used (<a href="https://github.com/R-Lum/Luminescence/issues/281" class="external-link">#281</a>).</li>
<li>The function doesn’t crash anymore on some <code>RLum.Analysis</code> input files (<a href="https://github.com/R-Lum/Luminescence/issues/283" class="external-link">#283</a>).</li>
<li>Option <code>plot.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</li>
<li>The function doesn’t crash anymore if no record is left after removal of records with negative time since irradiation (<a href="https://github.com/R-Lum/Luminescence/issues/454" class="external-link">#454</a>).</li>
<li>The function has been made more robust in the calculation of rho’ (<a href="https://github.com/R-Lum/Luminescence/issues/558" class="external-link">#558</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_irsarrf-1-0-0"><code>analyse_IRSAR.RF()</code><a class="anchor" aria-label="anchor" href="#analyse_irsarrf-1-0-0"></a></h4>
<ul><li>The performance of this function has been improved for the “SLIDE” and “VSLIDE” methods, thanks both to tweaks in the C++ implementation of the sliding algorithm and in how that is managed on the R side. In particular, the default number of sliding windows tested in the algorithm has been reduced from 10 to 3: this value is no longer hardcoded, but can be tuned through the new <code>num_slide_windows</code> setting (part of the <code>method.control</code> option), thus allowing to find a balance between computation time and quality of fit (<a href="https://github.com/R-Lum/Luminescence/issues/372" class="external-link">#372</a>).</li>
<li>The function is more robust against <code>sequence_structure</code> misspecifications (<a href="https://github.com/R-Lum/Luminescence/issues/393" class="external-link">#393</a>).</li>
<li>Some data preparation steps where not correctly applied for <code>method = "VSLIDE"</code> (<a href="https://github.com/R-Lum/Luminescence/issues/396" class="external-link">#396</a>).</li>
<li>Option <code>method.control</code> has been renamed to <code>method_control</code> for consistency with all other functions in the package (<a href="https://github.com/R-Lum/Luminescence/issues/411" class="external-link">#411</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_pirirsequence-1-0-0"><code>analyse_pIRIRSequence()</code><a class="anchor" aria-label="anchor" href="#analyse_pirirsequence-1-0-0"></a></h4>
<ul><li>Option <code>plot.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>, fixed in <a href="https://github.com/R-Lum/Luminescence/issues/408" class="external-link">#408</a>).</li>
<li>The produced <code>RLum.Results</code> object now also contains a column for the grain (<a href="https://github.com/R-Lum/Luminescence/issues/553" class="external-link">#553</a>).</li>
<li>The function now checks that the <code>sequence.structure</code> argument contains at least one IR step (<a href="https://github.com/R-Lum/Luminescence/issues/579" class="external-link">#579</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="analyse_sarcwosl-1-0-0-1"><code>analyse_SAR.CWOSL()</code><a class="anchor" aria-label="anchor" href="#analyse_sarcwosl-1-0-0-1"></a></h4>
<ul><li>Option <code>plot.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</li>
<li>The function shifted the curves correctly in cases where the first channel is zero and a log-transformation on the x-axis is requested (<a href="https://github.com/R-Lum/Luminescence/issues/580" class="external-link">#580</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="apply_cosmicrayramoval-1-0-0"><code>apply_CosmicRayRamoval()</code><a class="anchor" aria-label="anchor" href="#apply_cosmicrayramoval-1-0-0"></a></h4>
<ul><li>Support has been added for the internal function <code>smooth_RLum</code> that can be passed as new argument for <code>method</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="calc_averagedose-1-0-0"><code>calc_AverageDose()</code><a class="anchor" aria-label="anchor" href="#calc_averagedose-1-0-0"></a></h4>
<ul><li>The function crashed if the data contained non-positive values: now these are removed before proceeding (<a href="https://github.com/R-Lum/Luminescence/issues/532" class="external-link">#532</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_centraldose-1-0-0"><code>calc_CentralDose()</code><a class="anchor" aria-label="anchor" href="#calc_centraldose-1-0-0"></a></h4>
<ul><li>Argument <code>na.rm</code> is now deprecated: the function will now always remove missing values, as otherwise the presence of any <code>NA</code> would propagate and produce unusable results (all <code>NA</code>s) or buggy behaviour (<a href="https://github.com/R-Lum/Luminescence/issues/302" class="external-link">#302</a>).</li>
<li>The function stops the fixed-point iteration for the computation of the profile log-likelihood as soon as <code>sigma &lt; 1e-16</code>, as allowing <code>sigma</code> to become zero leads to infinities and buggy behaviour (<a href="https://github.com/R-Lum/Luminescence/issues/304" class="external-link">#304</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_fastratio-1-0-0"><code>calc_FastRatio()</code><a class="anchor" aria-label="anchor" href="#calc_fastratio-1-0-0"></a></h4>
<ul><li>A number of crashes related to input validation have been fixed (<a href="https://github.com/R-Lum/Luminescence/issues/471" class="external-link">#471</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_finitemixture-1-0-0"><code>calc_FiniteMixture()</code><a class="anchor" aria-label="anchor" href="#calc_finitemixture-1-0-0"></a></h4>
<ul><li>Arguments <code>dose.scale</code> and <code>pdf.scale</code> were not used and have been removed (<a href="https://github.com/R-Lum/Luminescence/issues/566" class="external-link">#566</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_gsgc-1-0-0"><code>calc_gSGC()</code><a class="anchor" aria-label="anchor" href="#calc_gsgc-1-0-0"></a></h4>
<ul><li>The function crashed if the data contained negative errors: to avoid this, we now take the absolute values of errors (<a href="https://github.com/R-Lum/Luminescence/issues/479" class="external-link">#479</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_huntley2006-1-0-0"><code>calc_Huntley2006()</code><a class="anchor" aria-label="anchor" href="#calc_huntley2006-1-0-0"></a></h4>
<ul><li>Some crashes in case of model misspecification have been solved (<a href="https://github.com/R-Lum/Luminescence/issues/538" class="external-link">#538</a>).</li>
<li>Some details in the implementation of the function have been optimized, and now it is much faster than before. As part of this, we have changed the default setting of the <code>rprime</code> vector that is used in the calculation of the natural dose response and the field saturation, so that more points are concentrated in the bulk of the distribution: this previously depended incorrectly on the number of Monte Carlo iterations requested, so this change brings an additional speed boost. The default setting can be overridden via the <code>rprime</code> argument (<a href="https://github.com/R-Lum/Luminescence/issues/258" class="external-link">#258</a>).</li>
<li>Fitting the “GOK” model on the unfaded data failed when the “EXP” model we use to find a good starting point failed: in such cases, we try again using the simulated fit (<a href="https://github.com/R-Lum/Luminescence/issues/549" class="external-link">#549</a>; thanks to <a href="https://github.com/SalOehl" class="external-link">@SalOehl</a> for reporting and providing data to reproduce the error).</li>
<li>The natural/simulated curve was not plotted in the negative quadrant for <code>mode = "extrapolation"</code>, which made it harder to see where it extrapolated to (<a href="https://github.com/R-Lum/Luminescence/issues/551" class="external-link">#551</a>; thanks to <a href="https://github.com/SalOehl" class="external-link">@SalOehl</a> for reporting).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_ieu-1-0-0"><code>calc_IEU()</code><a class="anchor" aria-label="anchor" href="#calc_ieu-1-0-0"></a></h4>
<ul><li>The code of this function has been consolidated to avoid duplication and make its debugging easier: this has uncovered a small coding error and also led to some speed up (<a href="https://github.com/R-Lum/Luminescence/issues/429" class="external-link">#429</a>).</li>
<li>Some crashes in the function have been solved (<a href="https://github.com/R-Lum/Luminescence/issues/424" class="external-link">#424</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="calc_lamothe2003-1-0-0"><code>calc_Lamothe2003()</code><a class="anchor" aria-label="anchor" href="#calc_lamothe2003-1-0-0"></a></h4>
<ul><li>We addressed a long-standing issue regarding the calculation of the <code>Ln/Tn</code> error after fading correction, which led to smaller than expected errors (<a href="https://github.com/R-Lum/Luminescence/issues/96" class="external-link">#96</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="convert_rlum2risoebinfiledata-1-0-0"><code>convert_RLum2Risoe.BINFileData()</code><a class="anchor" aria-label="anchor" href="#convert_rlum2risoebinfiledata-1-0-0"></a></h4>
<ul><li>The function could crash with a <code>incompatible types (from raw to character)</code> error under particular circumstances; fixed.</li>
<li>The function would fail in edge cases where different objects are mixed so that certain fields for <code>METADATA</code> are already available but in the wrong format; fixed.</li>
</ul></div>
<div class="section level4">
<h4 id="extract_irradiationtimes-1-0-0"><code>extract_IrradiationTimes()</code><a class="anchor" aria-label="anchor" href="#extract_irradiationtimes-1-0-0"></a></h4>
<ul><li>In some circumstances the function failed to update an existing BIN/BINX file due to an incorrect way of subsetting an intermediate data frame of results (<a href="https://github.com/R-Lum/Luminescence/issues/445" class="external-link">#445</a>).</li>
<li>The function crashed if the info element <code>startDate</code> was missing in the irradiation curve; fixed.</li>
</ul></div>
<div class="section level4">
<h4 id="fit_cwcurve-1-0-0"><code>fit_CWCurve()</code><a class="anchor" aria-label="anchor" href="#fit_cwcurve-1-0-0"></a></h4>
<ul><li>The function crashed if the computation of the confidence intervals done in <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint()</a></code> failed. This has now been fixed, and in cases of failures we report the error message received from <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint()</a></code> (<a href="https://github.com/R-Lum/Luminescence/issues/509" class="external-link">#509</a>).</li>
<li>Argument <code>output.terminal</code> has been renamed to <code>verbose</code> for consistency with other functions.</li>
<li>The function has gained the new <code>method_control</code> argument, which can be used to control the saving of the component contribution matrix in the RLum.Results object it returns. This is now disabled by default: to restore the previous behaviour, add <code>method_control = list(export.comp.contrib.matrix = TRUE)</code> to the function call (<a href="https://github.com/R-Lum/Luminescence/issues/573" class="external-link">#573</a>).</li>
<li>In case of plot failure the function now is able to recover gracefully and produce an output object (<a href="https://github.com/R-Lum/Luminescence/issues/574" class="external-link">#574</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="fit_emissionspectra-1-0-0"><code>fit_EmissionSpectra()</code><a class="anchor" aria-label="anchor" href="#fit_emissionspectra-1-0-0"></a></h4>
<ul><li>The function can now return a data frame with the values of all curves plotted, so that it’s much easier to produce alternative plots, by setting option <code>export.plot.data = TRUE</code> within the <code>method_control</code> argument (<a href="https://github.com/R-Lum/Luminescence/issues/569" class="external-link">#569</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="fit_lmcurve-1-0-0"><code>fit_LMCurve()</code><a class="anchor" aria-label="anchor" href="#fit_lmcurve-1-0-0"></a></h4>
<ul><li>The function has gained the new <code>method_control</code> argument, which can be used to control the saving of the component contribution matrix in the RLum.Results object it returns. This is now disabled by default: to restore the previous behaviour, add <code>method_control = list(export.comp.contrib.matrix = TRUE)</code> to the function call (<a href="https://github.com/R-Lum/Luminescence/issues/573" class="external-link">#573</a>).</li>
<li>In case of plot failure the function now is able to recover gracefully and produce an output object (<a href="https://github.com/R-Lum/Luminescence/issues/574" class="external-link">#574</a>; thanks to <a href="https://github.com/LumTKO" class="external-link">@LumTKO</a> for reporting).</li>
</ul></div>
<div class="section level4">
<h4 id="get_rlum-1-0-0"><code>get_RLum()</code><a class="anchor" aria-label="anchor" href="#get_rlum-1-0-0"></a></h4>
<ul><li>If the <code>subset</code> option was used on info elements of an <code>RLum.Analysis</code> object, it would return wrong results if the info element was not present in all records; fixed.</li>
</ul></div>
<div class="section level4">
<h4 id="import_data-1-0-0"><code>import_Data()</code><a class="anchor" aria-label="anchor" href="#import_data-1-0-0"></a></h4>
<ul><li>The function automatically determines the available import functions and ensures that formats supported by the package are tested and used.</li>
<li>A minor change in the code enables the support of <code>character</code> vectors of length &gt; 1 as input (e.g., different file names). Furthermore, the function received more testing against a mixture of input formats. Therefore you can provide many different files formats and the function will try to import them all in one go.</li>
</ul></div>
<div class="section level4">
<h4 id="plot_abanicoplot-1-0-0"><code>plot_AbanicoPlot()</code><a class="anchor" aria-label="anchor" href="#plot_abanicoplot-1-0-0"></a></h4>
<ul><li>If negative values were provided, the function sometimes produced wrong plots for <code>z.log = TRUE</code> (the default); fixed.</li>
<li>Support for <code>tcl</code> and <code>tck</code> arguments via <code>...</code> was removed as they were never used internally.</li>
</ul></div>
<div class="section level4">
<h4 id="plot_detplot-1-0-0"><code>plot_DetPlot()</code><a class="anchor" aria-label="anchor" href="#plot_detplot-1-0-0"></a></h4>
<ul><li>Option <code>plot.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>, fixed in <a href="https://github.com/R-Lum/Luminescence/issues/408" class="external-link">#408</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_drtresults-1-0-0"><code>plot_DRTResults()</code><a class="anchor" aria-label="anchor" href="#plot_drtresults-1-0-0"></a></h4>
<ul><li>The function crashed if option <code>na.rm</code> was used alongside the <code>preheat</code> option but the data set contained no missing values (<a href="https://github.com/R-Lum/Luminescence/issues/474" class="external-link">#474</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_growthcurve-1-0-0"><code>plot_GrowthCurve()</code><a class="anchor" aria-label="anchor" href="#plot_growthcurve-1-0-0"></a></h4>
<ul><li>The function is now implemented as a wrapper around <code><a href="../reference/fit_DoseResponseCurve.html">fit_DoseResponseCurve()</a></code> and <code><a href="../reference/plot_DoseResponseCurve.html">plot_DoseResponseCurve()</a></code>. There should be no visible user-facing changes (<a href="https://github.com/R-Lum/Luminescence/issues/319" class="external-link">#319</a>).</li>
<li>Support new <code>...</code> arguments for plotting (implementation in <code><a href="../reference/plot_DoseResponseCurve.html">plot_DoseResponseCurve()</a></code>) for <code>legend</code> (turn on/off legend) and <code>reg_points_pch</code> for fine grained control over the point shape.</li>
<li>Add <code>density_polygon</code>, <code>density_polygon_col</code>, <code>density_rug</code>, <code>box</code> as <code>...</code> arguments to plot and add respective plot options</li>
<li>The function crashed for single grain data that sometimes caused a lot of <code>NaN</code> values during log conversions required for estimating the start parameters. The result was the error <code>object 'b.MC' not found</code> (<a href="https://github.com/R-Lum/Luminescence/issues/374" class="external-link">#374</a>; fixed)</li>
<li>For the non-linear choices of <code>fit.method</code> (<code>"EXP+LIN"</code>, <code>"EXP+EXP"</code>, <code>"GOK"</code> and <code>"LambertW"</code>), the function could get stuck in an endless loop when the number of parameters was larger than or equal to the number of data points. This is now checked, and in those cases the method is changed to <code>"LIN"</code> (<a href="https://github.com/R-Lum/Luminescence/issues/381" class="external-link">#381</a>).</li>
<li>We replaced <code><a href="https://rdrr.io/r/stats/nls.html" class="external-link">nls()</a></code> with <code><a href="https://rdrr.io/pkg/minpack.lm/man/nlsLM.html" class="external-link">minpack.lm::nlsLM()</a></code> as it’s more robust and can find a fit in cases where <code><a href="https://rdrr.io/r/stats/nls.html" class="external-link">nls()</a></code> would fail. Please keep in mind that it does not mean that fit results in those cases make any sense, it just helps to avoid uncontained events in the R session (addresses <a href="https://github.com/R-Lum/Luminescence/issues/381" class="external-link">#381</a>).</li>
<li>Option <code>output.plotExtended.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</li>
<li>The function now supports a list of data frames as input, in which case it calls itself on each element of the list and produces a list of <code>RLum.Results</code> as output (<a href="https://github.com/R-Lum/Luminescence/issues/405" class="external-link">#405</a>).</li>
<li>The function reported negative dose values in the MC runs plot when using <code>fit.method = "QDR"</code> and <code>mode = "extrapolation"</code> (<a href="https://github.com/R-Lum/Luminescence/issues/504" class="external-link">#504</a>).</li>
<li>Argument <code>NumberIterations.MC</code> has been renamed to <code>n.MC</code> (<a href="https://github.com/R-Lum/Luminescence/issues/546" class="external-link">#546</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_rlumanalysis-1-0-0"><code>plot_RLum.Analysis()</code><a class="anchor" aria-label="anchor" href="#plot_rlumanalysis-1-0-0"></a></h4>
<ul><li>Option <code>plot.single</code> has been renamed to <code>plot_singlePanels</code> (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_rlumdatacurve-1-0-0"><code>plot_RLum.Data.Curve()</code><a class="anchor" aria-label="anchor" href="#plot_rlumdatacurve-1-0-0"></a></h4>
<ul><li>Argument <code>norm</code> is now better validated so that specifying an incorrect value returns an error instead of silently skipping curve normalisation (<a href="https://github.com/R-Lum/Luminescence/issues/250" class="external-link">#250</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="plot_rlumdataspectrum-1-0-0"><code>plot_RLum.Data.Spectrum()</code><a class="anchor" aria-label="anchor" href="#plot_rlumdataspectrum-1-0-0"></a></h4>
<ul><li>The gradient between colours when <code>plot.type = "persp"</code> is now more consistent and doesn’t produce artefacts in the regions of transition between colours (<a href="https://github.com/R-Lum/Luminescence/issues/371" class="external-link">#371</a>).</li>
<li>The function would crash if the <code>bin.rows</code> or <code>bin.cols</code> value was set too high or if <code>xlim</code> and <code>ylim</code> were set too tight (<a href="https://github.com/R-Lum/Luminescence/issues/415" class="external-link">#415</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="read_bin2r-1-0-0"><code>read_BIN2R()</code><a class="anchor" aria-label="anchor" href="#read_bin2r-1-0-0"></a></h4>
<ul><li>The function is now much faster: we have recorded an overall improvement of over 60% on a 46M file, with potentially bigger time savings for larger files (<a href="https://github.com/R-Lum/Luminescence/issues/298" class="external-link">#298</a>).</li>
<li>Argument <code>n.records</code> is now better supported for BIN files v3 and v4 and doesn’t lead to a crash when used in conjunction with the <code>fastForward</code> option (<a href="https://github.com/R-Lum/Luminescence/issues/343" class="external-link">#343</a>).</li>
<li>Argument <code>zero_data.rm</code> was not correctly propagated if the input object was provided as a list (<a href="https://github.com/R-Lum/Luminescence/issues/342" class="external-link">#342</a>).</li>
<li>The <code>METADATA</code> fields that are not actually read from the BINX file in case of a ROI record are now set to <code>NA</code> rather than being assigned the value from the previous record (<a href="https://github.com/R-Lum/Luminescence/issues/336" class="external-link">#336</a>).</li>
<li>The <code>.RESERVED</code> slot is now kept in sync with the rest of the object when records are dropped from the input BIN/BINX file (<a href="https://github.com/R-Lum/Luminescence/issues/337" class="external-link">#337</a>).</li>
<li>The function doesn’t crash anymore when reading a file that contains a record with an unrecognised version after other records with a valid version have been read (<a href="https://github.com/R-Lum/Luminescence/issues/352" class="external-link">#352</a>).</li>
<li>The function doesn’t crash anymore when reading a file that contains a ROI record while using <code>fastForward = TRUE</code> (<a href="https://github.com/R-Lum/Luminescence/issues/356" class="external-link">#356</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="read_heliososl2r-1-0-0"><code>read_HeliosOSL2R()</code><a class="anchor" aria-label="anchor" href="#read_heliososl2r-1-0-0"></a></h4>
<ul><li>If the function encounters problems in the provided list of files, it shows a more relaxed handling; throws an error but continues reading.</li>
</ul></div>
<div class="section level4">
<h4 id="read_xsyg2r-1-0-0"><code>read_XSYG2R()</code><a class="anchor" aria-label="anchor" href="#read_xsyg2r-1-0-0"></a></h4>
<ul><li>The new <code>n_records</code> argument now enables to control the number of records to import, which can be useful in case the file is faulty.</li>
<li>The function failed to import files when a directory name was provided; this was a regression introduced in v0.9.25 and it has now been fixed.</li>
<li>The function truncated the terminal output under certain circumstances; fixed.</li>
</ul></div>
<div class="section level4">
<h4 id="scale_gammadose-1-0-0"><code>scale_GammaDose()</code><a class="anchor" aria-label="anchor" href="#scale_gammadose-1-0-0"></a></h4>
<ul><li>Option <code>plot_single</code> has been renamed to <code>plot_singlePanels</code> and was changed so that <code>plot_singlePanels = TRUE</code> will produce one plot per panel, for consistency with other functions (<a href="https://github.com/R-Lum/Luminescence/issues/351" class="external-link">#351</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="template_drac-1-0-0"><code>template_DRAC()</code><a class="anchor" aria-label="anchor" href="#template_drac-1-0-0"></a></h4>
<ul><li>The function gained a new argument <code>file_input</code> that enables the creating of a DRAC template based on an existing DRAC CSV file. This way, already available DRAC files can be conveniently modified without having to call <code><a href="../reference/use_DRAC.html">use_DRAC()</a></code> first.</li>
<li>The template contained a couple of minor mistakes that got fixed along with a more strict enforcement of the class of each field, which is now set as an attribute; the change should have no user-visible effect.</li>
<li>The function now supports the conversion factors by Cresswell et al. (2018) (<code>Cresswelletal2018</code>). Please ensure that the server supports that option.</li>
</ul></div>
<div class="section level4">
<h4 id="trim_rlumdata-1-0-0"><code>trim_RLum.Data()</code><a class="anchor" aria-label="anchor" href="#trim_rlumdata-1-0-0"></a></h4>
<ul><li>The function has been made more robust against misspecifications of its <code>trim_range</code> argument that could lead to crashes (<a href="https://github.com/R-Lum/Luminescence/issues/460" class="external-link">#460</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="use_drac-1-0-0"><code>use_DRAC()</code><a class="anchor" aria-label="anchor" href="#use_drac-1-0-0"></a></h4>
<ul><li>Support for DRAC v1.1 XLS/XLSX files has been dropped, users should use CSV files according to the DRAC v1.2 CSV template.</li>
<li>The function gained support for three new <code>...</code> arguments: <code>version_ignore</code> to ignore the DRAC version check, <code>user</code> and <code>password</code> to access password protected websites.</li>
<li>The identifiers submitted to the DRAC server are now better randomized to to guarantee more confidentiality of the data transmitted (<a href="https://github.com/R-Lum/Luminescence/issues/435" class="external-link">#435</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="verify_singlegraindata-1-0-0"><code>verify_SingleGrainData()</code><a class="anchor" aria-label="anchor" href="#verify_singlegraindata-1-0-0"></a></h4>
<ul><li>
<strong>Potentially breaking old code!</strong>: if <code>cleanup = TRUE</code> the result was not consistent and produced a mixture of <code>RLum.Results</code> and <code>RLum.Analysis</code>/<code>Risoe.BINFileData</code> objects in particular when run over a list, this was not what stated in the manual. Now the function indeed cleans up the object, hence if a list of <code>RLum.Analysis</code> objects is provided, the result is a cleaned list of that object. If the clean-up ends up removing everything, the result is <code>NULL</code>.</li>
<li>The function doesn’t crash anymore when applied to an empty list (<a href="https://github.com/R-Lum/Luminescence/issues/365" class="external-link">#365</a>).</li>
<li>Silence the very talkative terminal output even if nothing was removed from a record for <code>cleanup = TRUE</code>.</li>
<li>The function now provides better terminal feedback if the selection results in an empty record.</li>
<li>Add a new logical argument <code>use_fft</code> that will apply an additional Fast Discrete Fourier Transform (FFT) verification on the data if wanted.</li>
</ul></div>
<div class="section level4">
<h4 id="write_r2bin-1-0-0"><code>write_R2BIN()</code><a class="anchor" aria-label="anchor" href="#write_r2bin-1-0-0"></a></h4>
<ul><li>The function now supports the <code>verbose</code> argument, which can be used to suppress output to the terminal (<a href="https://github.com/R-Lum/Luminescence/issues/442" class="external-link">#442</a>).</li>
</ul></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Kreutzer, Christoph Burow, Michael Dietze, Margret C. Fuchs, Christoph Schmidt, Manfred Fischer, Johannes Friedrich, Norbert Mercier, Anne Philippe, Svenja Riedesel, Martin Autzen, Dirk Mittelstrass, Harrison J. Gray, Jean-Michel Galharret, Marco Colombo, Luc Steinbuch, Anna-Maartje de Boer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

