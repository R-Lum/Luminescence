<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract Irradiation Times from an XSYG-file or RLum.Analysis object — extract_IrradiationTimes • Luminescence</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Irradiation Times from an XSYG-file or RLum.Analysis object — extract_IrradiationTimes"><meta name="description" content="Extracts irradiation times, dose and times since last irradiation, from a
Freiberg Instruments XSYG-file. These information can be further used to
update an existing BINX-file."><meta property="og:description" content="Extracts irradiation times, dose and times since last irradiation, from a
Freiberg Instruments XSYG-file. These information can be further used to
update an existing BINX-file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Luminescence</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-Lum/Luminescence"><span class="fa fa-github"></span> GitHub</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract Irradiation Times from an XSYG-file or <code>RLum.Analysis</code> object</h1>
      <small class="dont-index">Source: <a href="https://github.com/R-Lum/Luminescence/blob/v1.1.2/R/extract_IrradiationTimes.R" class="external-link"><code>R/extract_IrradiationTimes.R</code></a></small>
      <div class="d-none name"><code>extract_IrradiationTimes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracts irradiation times, dose and times since last irradiation, from a
Freiberg Instruments XSYG-file. These information can be further used to
update an existing BINX-file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_IrradiationTimes</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">file.BINX</span>,</span>
<span>  recordType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"irradiation (NA)"</span>, <span class="st">"IRSL (UVVIS)"</span>, <span class="st">"OSL (UVVIS)"</span>, <span class="st">"TL (UVVIS)"</span><span class="op">)</span>,</span>
<span>  return_same_as_input <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  compatibility.mode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  txtProgressBar <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a>, <a href="RLum.Analysis-class.html">RLum.Analysis</a> or <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> (<strong>required</strong>):
path and file name of the XSYG file or an <a href="RLum.Analysis-class.html">RLum.Analysis</a>
produced by the function <a href="read_XSYG2R.html">read_XSYG2R</a>;
alternatively, a <code>list</code> of <a href="RLum.Analysis-class.html">RLum.Analysis</a> can be provided.</p>
<p><strong>Note</strong>: If an <a href="RLum.Analysis-class.html">RLum.Analysis</a> is used, any input for
the arguments <code>file.BINX</code> and <code>recordType</code> will be ignored!</p></dd>


<dt id="arg-file-binx">file.BINX<a class="anchor" aria-label="anchor" href="#arg-file-binx"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> (<em>optional</em>):
path and file name of an existing BINX-file. If a file name is provided the
file will be updated with the information from the XSYG file in the same
folder as the original BINX-file.</p>
<p><strong>Note:</strong> The XSYG and the BINX-file must originate from the
same measurement!</p></dd>


<dt id="arg-recordtype">recordType<a class="anchor" aria-label="anchor" href="#arg-recordtype"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> (<em>with default</em>):
select relevant curves types from the XSYG file or <a href="RLum.Analysis-class.html">RLum.Analysis</a>
object. As the XSYG-file format comprises much more information than usually
needed for routine data analysis and allowed in the BINX-file format, only
the relevant curves are selected by using the function
<a href="get_RLum.html">get_RLum</a>. The argument <code>recordType</code> works as
described for this function.</p>
<p><strong>Note:</strong> A wrong selection will causes a function error. Please change this
argument only if you have reasons to do so.</p></dd>


<dt id="arg-return-same-as-input">return_same_as_input<a class="anchor" aria-label="anchor" href="#arg-return-same-as-input"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> (<em>with default</em>):
if set to <code>TRUE</code>, an updated <a href="RLum.Analysis-class.html">RLum.Analysis</a> object (or a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> of
it) is returned, with each record having gained two new info element fields:
<code>IRR_TIME</code> and <code>TIMESCINCEIRR</code>. This makes the <a href="RLum.Analysis-class.html">RLum.Analysis</a> object
compatible with external functions that search explicitly for <code>IRR_TIME</code>
and <code>TIMESCINCEIRR</code>.</p></dd>


<dt id="arg-compatibility-mode">compatibility.mode<a class="anchor" aria-label="anchor" href="#arg-compatibility-mode"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> (<em>with default</em>):
whether all position values should be reset to a maximum value of 48 (see
<a href="write_R2BIN.html">write_R2BIN</a>). Only used if <code>file.BINX</code> is specified.</p></dd>


<dt id="arg-txtprogressbar">txtProgressBar<a class="anchor" aria-label="anchor" href="#arg-txtprogressbar"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> (<em>with default</em>):
enable/disable the progress bar during import and export.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <a href="RLum.Results-class.html">RLum.Results</a> object is returned with the
following structure:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>.. <span class="sc">$</span><span class="fu">irr.times</span> (data.frame)</span></code></pre><p></p></div>
<p>If <code>return_same_as_input = TRUE</code> an <a href="RLum.Analysis-class.html">RLum.Analysis</a> or a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> of it, but
we updated info elements including irradiation times.</p>
<p>If a BINX-file path and name is set, the output will be additionally
transferred into a new BINX-file (with the function name as suffix) located
in the folder of the input BINX-file. Note that this will
not work if the input object is a file path to an XSYG-file, instead of a
link to only one file. In this case the argument input for <code>file.BINX</code> is ignored.</p>
<p>In the self call mode (input is a <code>list</code> of <a href="RLum.Analysis-class.html">RLum.Analysis</a> objects
a list of <a href="RLum.Results-class.html">RLum.Results</a> is returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function was written to compensate missing information in the BINX-file
output of Freiberg Instruments lexsyg readers. As all information are
available within the XSYG-file anyway, these information can be extracted
and used for further analysis or/and to stored in a new BINX-file, which can
be further used by other software, e.g., <em>Analyst</em> (Geoff Duller).</p>
<p>Typical application example: <em>g</em>-value estimation from fading measurements
using the Analyst or any other self-written script.</p>
<p>Beside some simple data transformation steps, the function relies on
<a href="read_XSYG2R.html">read_XSYG2R</a>, <a href="read_BIN2R.html">read_BIN2R</a>, <a href="write_R2BIN.html">write_R2BIN</a> for data import and export.</p>
<p><strong>Calculation details</strong></p><ul><li><p>The value <code>DURATION.STEP</code> is calculated as <code>START</code> + the end of the time axis for all curves
except for <code>TL</code>, where the function tries to extract meta information about the duration.</p></li>
<li><p>The value <code>END</code> is calculated as <code>START</code> + <code>DURACTION.STEP</code></p></li>
<li><p>All curves for which no prior irradiation was detected receive an <code>-1</code> (<em>Analyst</em> convention)</p></li>
<li><p>Irradiation steps have always <code>IRR_TIME = 0</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The function can be also used to extract irradiation times from
<a href="RLum.Analysis-class.html">RLum.Analysis</a> objects imported via <a href="read_BIN2R.html">read_BIN2R</a> with option
<code>fastForward = TRUE</code>, or in combination with
<a href="Risoe.BINfileData2RLum.Analysis.html">Risoe.BINfileData2RLum.Analysis</a>.
Unfortunately the timestamp might not be very precise (or even invalid),
but it allows to essentially treat different formats in a similar manner.</p>
<p>The produced output object contains still the irradiation steps to
keep the output transparent. However, for the BINX-file export this steps
are removed as the BINX-file format description does not allow irradiations
as separate sequences steps.</p>
<p><strong>BINX-file 'Time Since Irradiation' value differs from the table output?</strong></p>
<p>The way the value 'Time Since Irradiation' is defined differs. In the BINX-file the
'Time Since Irradiation' is calculated as the 'Time Since Irradiation' plus the 'Irradiation
Time'. The table output returns only the real 'Time Since Irradiation', i.e. time between the
end of the irradiation and the next step.</p>
<p><strong>Negative values for <code>TIMESINCELAST.STEP</code>?</strong></p>
<p>Yes, this is possible and not a bug, as in the XSYG-file multiple curves are stored for one step.
Example: TL step may comprise three curves:</p><ul><li><p>(a) counts vs. time,</p></li>
<li><p>(b) measured temperature vs. time and</p></li>
<li><p>(c) predefined temperature vs. time.</p></li>
</ul><p>Three curves, but they are all belonging to one TL measurement step, but with regard to
the time stamps this could produce negative values as the important function
(<a href="read_XSYG2R.html">read_XSYG2R</a>) do not change the order of entries for one step
towards a correct time order.</p>
<p><strong><code>TIMESINCELAST.STEP</code> is odd if TL curves are involved?</strong></p>
<p>Yes, this is possible! The end time is calculated as start + duration,
and the duration is deduced from the time values of each step.
A typical TL curve, however, does not have a time but a temperature axis.
Hence, the function tries to extract the information from metadata.
If that information is missing, the x-values are presumed time values,
which might still be wrong.</p>
    </div>
    <div class="section level2">
    <h2 id="function-version">Function version<a class="anchor" aria-label="anchor" href="#function-version"></a></h2>
    <p>0.4.0</p>
    </div>
    <div class="section level2">
    <h2 id="how-to-cite">How to cite<a class="anchor" aria-label="anchor" href="#how-to-cite"></a></h2>
    <p>Kreutzer, S., 2025. extract_IrradiationTimes(): Extract Irradiation Times from an XSYG-file or RLum.Analysis object. Function version 0.4.0. In: Kreutzer, S., Burow, C., Dietze, M., Fuchs, M.C., Schmidt, C., Fischer, M., Friedrich, J., Mercier, N., Philippe, A., Riedesel, S., Autzen, M., Mittelstrass, D., Gray, H.J., Galharret, J., Colombo, M., Steinbuch, L., Boer, A.d., 2025. Luminescence: Comprehensive Luminescence Dating Data Analysis. R package version 1.1.2. https://r-lum.github.io/Luminescence/</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Duller, G.A.T., 2015. The Analyst software package for luminescence data: overview and
recent improvements. Ancient TL 33, 35-42. <a href="https://doi.org/10.26034/la.atl.2015.489" class="external-link">doi:10.26034/la.atl.2015.489</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="RLum.Analysis-class.html">RLum.Analysis</a>, <a href="RLum.Results-class.html">RLum.Results</a>, <a href="Risoe.BINfileData-class.html">Risoe.BINfileData</a>,
<a href="read_XSYG2R.html">read_XSYG2R</a>, <a href="read_BIN2R.html">read_BIN2R</a>, <a href="write_R2BIN.html">write_R2BIN</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sebastian Kreutzer, Institute of Geography, Heidelberg University (Germany)
, RLum Developer Team</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## take system file</span></span></span>
<span class="r-in"><span><span class="va">xsyg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/XSYG_file.xsyg"</span>, package<span class="op">=</span><span class="st">"Luminescence"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## the import is automatically</span></span></span>
<span class="r-in"><span><span class="co">## but you can import it before</span></span></span>
<span class="r-in"><span><span class="va">irr_times</span> <span class="op">&lt;-</span> <span class="fu">extract_IrradiationTimes</span><span class="op">(</span><span class="va">xsyg</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [read_XSYG2R()] Importing ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  path:  /home/runner/work/_temp/Library/Luminescence/extdata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  file:  XSYG_file.xsyg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	 &gt;&gt; 1 of 1 sequence(s) loaded successfully</span>
<span class="r-in"><span><span class="va">irr_times</span><span class="op">$</span><span class="va">irr.times</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   POSITION             STEP               START DURATION.STEP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        1       TL (UVVIS) 2016-02-24 15:51:23          57.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        1      OSL (UVVIS) 2016-02-24 15:53:24         129.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        1 irradiation (NA) 2016-02-24 15:57:45          80.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        1       TL (UVVIS) 2016-02-24 15:58:02          37.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   END IRR_TIME TIMESINCEIRR TIMESINCELAST.STEP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2016-02-24 15:52:20        0           -1                0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2016-02-24 15:55:33        0           -1               64.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2016-02-24 15:59:05        0           -1              131.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2016-02-24 15:58:39       80          -63              -63.0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># (1) - example for your own data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set files and run function</span></span></span>
<span class="r-in"><span><span class="va">file.XSYG</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.choose.html" class="external-link">file.choose</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">file.BINX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.choose.html" class="external-link">file.choose</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">extract_IrradiationTimes</span><span class="op">(</span>file.XSYG <span class="op">=</span> <span class="va">file.XSYG</span>, file.BINX <span class="op">=</span> <span class="va">file.BINX</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># export results additionally to a CSV-file in the same directory as the XSYG-file</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.table</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="get_RLum.html">get_RLum</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">file.BINX</span>,<span class="st">"_extract_IrradiationTimes.csv"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sep <span class="op">=</span> <span class="st">";"</span>,</span></span>
<span class="r-in"><span> row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Kreutzer, Christoph Burow, Michael Dietze, Margret C. Fuchs, Christoph Schmidt, Manfred Fischer, Johannes Friedrich, Norbert Mercier, Anne Philippe, Svenja Riedesel, Martin Autzen, Dirk Mittelstrass, Harrison J. Gray, Jean-Michel Galharret, Marco Colombo, Luc Steinbuch, Anna-Maartje de Boer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

