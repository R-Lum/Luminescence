<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Use DRAC to calculate dose rate data — use_DRAC • Luminescence</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Use DRAC to calculate dose rate data — use_DRAC"><meta property="og:description" content="The function provides an interface from R to DRAC. An R-object or a
pre-formatted XLS/XLSX file is passed to the DRAC website and the
results are re-imported into R."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Luminescence</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.24.9000-106</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="../reference/index.html">References</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/R-Lum/Luminescence" class="external-link">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Use DRAC to calculate dose rate data</h1>
    <small class="dont-index">Source: <a href="https://github.com/R-Lum/Luminescence/blob/HEAD/R/use_DRAC.R" class="external-link"><code>R/use_DRAC.R</code></a></small>
    <div class="hidden name"><code>use_DRAC.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function provides an interface from R to DRAC. An R-object or a
pre-formatted XLS/XLSX file is passed to the DRAC website and the
results are re-imported into R.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">use_DRAC</span><span class="op">(</span><span class="va">file</span>, <span class="va">name</span>, print_references <span class="op">=</span> <span class="cn">TRUE</span>, citation_style <span class="op">=</span> <span class="st">"text"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> (<strong>required</strong>):
spreadsheet to be passed to the DRAC website for calculation. Can also be a
DRAC template object obtained from <code><a href="template_DRAC.html">template_DRAC()</a></code>.</p></dd>


<dt>name</dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> (<em>with default</em>):
Optional user name submitted to DRAC. If omitted, a random name will be generated</p></dd>


<dt>print_references</dt>
<dd><p>(<em>with default</em>):
Print all references used in the input data table to the console.</p></dd>


<dt>citation_style</dt>
<dd><p>(<em>with default</em>):
If <code>print_references = TRUE</code> this argument determines the output style of the
used references. Valid options are <code>"Bibtex"</code>, <code>"citation"</code>, <code>"html"</code>, <code>"latex"</code>
or <code>"R"</code>. Default is <code>"text"</code>.</p></dd>


<dt>...</dt>
<dd><p>Further arguments.</p><ul><li><p><code>url</code> <a href="https://rdrr.io/r/base/character.html" class="external-link">character</a>: provide an alternative URL to DRAC</p></li>
<li><p><code>verbose</code> <a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a>: show or hide console output</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns an <a href="RLum.Results-class.html">RLum.Results</a> object containing the following elements:</p>
<dl><dt>DRAC</dt>
<dd><p><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a>: a named list containing the following elements in slot <code>@data</code>:</p>
<table class="table table"><tr><td><code>$highlights</code></td><td><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></td><td>summary of 25 most important input/output fields</td></tr><tr><td><code>$header</code></td><td><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></td><td>HTTP header from the DRAC server response</td></tr><tr><td><code>$labels</code></td><td><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></td><td>descriptive headers of all input/output fields</td></tr><tr><td><code>$content</code></td><td><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></td><td>complete DRAC input/output table</td></tr><tr><td><code>$input</code></td><td><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></td><td>DRAC input table</td></tr><tr><td><code>$output</code></td><td><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></td><td>DRAC output table</td></tr><tr><td><code>references</code></td><td><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></td><td>A list of bib entries of used references</td></tr></table></dd>

<dt>data</dt>
<dd><p><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> or <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> path to the input spreadsheet or a DRAC template</p></dd>

<dt>call</dt>
<dd><p><a href="https://rdrr.io/r/base/call.html" class="external-link">call</a> the function call</p></dd>

<dt>args</dt>
<dd><p><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> used arguments</p></dd>


</dl><p>The output should be accessed using the function <a href="get_RLum.html">get_RLum</a>.</p>
    </div>
    <div id="function-version">
    <h2>Function version</h2>
    <p>0.14</p>
    </div>
    <div id="how-to-cite">
    <h2>How to cite</h2>
    <p>Kreutzer, S., Dietze, M., Burow, C., 2024. use_DRAC(): Use DRAC to calculate dose rate data. Function version 0.14. In: Kreutzer, S., Burow, C., Dietze, M., Fuchs, M.C., Schmidt, C., Fischer, M., Friedrich, J., Mercier, N., Philippe, A., Riedesel, S., Autzen, M., Mittelstrass, D., Gray, H.J., Galharret, J., 2024. Luminescence: Comprehensive Luminescence Dating Data Analysis. R package version 0.9.24.9000-106. https://CRAN.R-project.org/package=Luminescence</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Durcan, J.A., King, G.E., Duller, G.A.T., 2015. DRAC: Dose Rate and Age Calculator for trapped charge dating.
Quaternary Geochronology 28, 54-61. doi:10.1016/j.quageo.2015.03.012</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Sebastian Kreutzer, Institute of Geography, Heidelberg University (Germany)<br>
Michael Dietze, GFZ Potsdam (Germany)<br>
Christoph Burow, University of Cologne (Germany)
, RLum Developer Team</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## (1) Method using the DRAC spreadsheet</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span>  <span class="st">"/PATH/TO/DRAC_Input_Template.csv"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># send the actual IO template spreadsheet to DRAC</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">use_DRAC</span><span class="op">(</span>file <span class="op">=</span> <span class="va">file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## (2) Method using an R template object</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a template</span></span></span>
<span class="r-in"><span><span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="template_DRAC.html">template_DRAC</a></span><span class="op">(</span>preset <span class="op">=</span> <span class="st">"DRAC-example_quartz"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	-------------------- IMPORTANT NOTE ------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 This function returns a DRAC input template to be used in </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 conjunction with the use_DRAC() function.  </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 The template was reproduced with great care, but we do not</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 take any responsibility and we are not liable for any </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 mistakes or unforeseen misbehaviour.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 Note that this template is only compatible with DRAC</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 version 1.1. Before using this template make sure that</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 this is the correct version, otherwise expect unspecified</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 errors.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 Please ensure you cite the use of DRAC in your work,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 published or otherwise. Please cite the website name and</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 version (e.g. DRAC v1.1) and the accompanying journal</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 article:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 Durcan, J.A., King, G.E., Duller, G.A.T., 2015.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 DRAC: Dose rate and age calculation for trapped charge</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 dating. Quaternary Geochronology 28, 54-61. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	 Set 'notification = FALSE' to hide this message. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	-------------------- IMPORTANT NOTE ------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fill the template with values</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Project ID`</span> <span class="op">&lt;-</span> <span class="st">"DRAC-Example"</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Sample ID`</span> <span class="op">&lt;-</span> <span class="st">"Quartz"</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Conversion factors`</span> <span class="op">&lt;-</span> <span class="st">"AdamiecAitken1998"</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`External U (ppm)`</span> <span class="op">&lt;-</span> <span class="fl">3.4</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errExternal U (ppm)`</span> <span class="op">&lt;-</span> <span class="fl">0.51</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`External Th (ppm)`</span> <span class="op">&lt;-</span> <span class="fl">14.47</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errExternal Th (ppm)`</span> <span class="op">&lt;-</span> <span class="fl">1.69</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`External K (%)`</span> <span class="op">&lt;-</span> <span class="fl">1.2</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errExternal K (%)`</span> <span class="op">&lt;-</span> <span class="fl">0.14</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Calculate external Rb from K conc?`</span> <span class="op">&lt;-</span> <span class="st">"N"</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Calculate internal Rb from K conc?`</span> <span class="op">&lt;-</span> <span class="st">"N"</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Scale gammadoserate at shallow depths?`</span> <span class="op">&lt;-</span> <span class="st">"N"</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Grain size min (microns)`</span> <span class="op">&lt;-</span> <span class="fl">90</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Grain size max (microns)`</span> <span class="op">&lt;-</span> <span class="fl">125</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Water content ((wet weight - dry weight)/dry weight) %`</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errWater content %`</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Depth (m)`</span> <span class="op">&lt;-</span> <span class="fl">2.2</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errDepth (m)`</span> <span class="op">&lt;-</span> <span class="fl">0.22</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Overburden density (g cm-3)`</span> <span class="op">&lt;-</span> <span class="fl">1.8</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errOverburden density (g cm-3)`</span> <span class="op">&lt;-</span> <span class="fl">0.1</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Latitude (decimal degrees)`</span> <span class="op">&lt;-</span> <span class="fl">30.0000</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Longitude (decimal degrees)`</span> <span class="op">&lt;-</span> <span class="fl">70.0000</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`Altitude (m)`</span> <span class="op">&lt;-</span> <span class="fl">150</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`De (Gy)`</span> <span class="op">&lt;-</span> <span class="fl">20</span></span></span>
<span class="r-in"><span><span class="va">input</span><span class="op">$</span><span class="va">`errDe (Gy)`</span> <span class="op">&lt;-</span> <span class="fl">0.2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use DRAC</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu">use_DRAC</span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sebastian Kreutzer, Christoph Burow, Michael Dietze, Margret C. Fuchs, Christoph Schmidt, Manfred Fischer, Johannes Friedrich, Norbert Mercier, Anne Philippe, Svenja Riedesel, Martin Autzen, Dirk Mittelstrass, Harrison J. Gray, Jean-Michel Galharret.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

