<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot filter combinations along with the (optional) net transmission window — plot_FilterCombinations • Luminescence</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot filter combinations along with the (optional) net transmission window — plot_FilterCombinations"><meta name="description" content="The function allows to plot transmission windows for different filters. Missing data for specific
wavelengths are automatically interpolated for the given filter data using the function approx.
With that a standardised output is reached and a net transmission window can be shown."><meta property="og:description" content="The function allows to plot transmission windows for different filters. Missing data for specific
wavelengths are automatically interpolated for the given filter data using the function approx.
With that a standardised output is reached and a net transmission window can be shown."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Luminescence</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.25</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-Lum/Luminescence"><span class="fa fa-github"></span> GitHub</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot filter combinations along with the (optional) net transmission window</h1>
      <small class="dont-index">Source: <a href="https://github.com/R-Lum/Luminescence/blob/HEAD/R/plot_FilterCombinations.R" class="external-link"><code>R/plot_FilterCombinations.R</code></a></small>
      <div class="d-none name"><code>plot_FilterCombinations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function allows to plot transmission windows for different filters. Missing data for specific
wavelengths are automatically interpolated for the given filter data using the function <a href="https://rdrr.io/r/stats/approxfun.html" class="external-link">approx</a>.
With that a standardised output is reached and a net transmission window can be shown.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_FilterCombinations</span><span class="op">(</span></span>
<span>  <span class="va">filters</span>,</span>
<span>  wavelength_range <span class="op">=</span> <span class="fl">200</span><span class="op">:</span><span class="fl">1000</span>,</span>
<span>  show_net_transmission <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-filters">filters<a class="anchor" aria-label="anchor" href="#arg-filters"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> (<strong>required</strong>):
a named list of filter data for each filter to be shown.
The filter data itself should be either provided as <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> or <a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a>.
(for more options s. Details)</p></dd>


<dt id="arg-wavelength-range">wavelength_range<a class="anchor" aria-label="anchor" href="#arg-wavelength-range"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a> (<em>with default</em>):
wavelength range used for the interpolation</p></dd>


<dt id="arg-show-net-transmission">show_net_transmission<a class="anchor" aria-label="anchor" href="#arg-show-net-transmission"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> (<em>with default</em>):
show net transmission window as polygon.</p></dd>


<dt id="arg-interactive">interactive<a class="anchor" aria-label="anchor" href="#arg-interactive"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> (<em>with default</em>):
enable/disable interactive plot</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> (<em>with default</em>):
enables or disables the plot output</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments that can be passed to control the plot output.
Supported are <code>main</code>, <code>xlab</code>, <code>ylab</code>, <code>xlim</code>, <code>ylim</code>, <code>type</code>, <code>lty</code>, <code>lwd</code>.
For non common plotting parameters see the details section.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns an S4 object of type <a href="RLum.Results-class.html">RLum.Results</a>.</p>
<p><strong>@data</strong></p>
<table class="table table"><tr><td><strong><code>Object</code></strong></td><td><strong><code>Type</code></strong> <strong><code>Description</code></strong></td><td><code>net_transmission_window</code></td></tr><tr><td><code>matrix</code></td><td>the resulting net transmission window</td><td><code>OD_total</code></td></tr><tr><td><code>matrix</code></td><td>the total optical density</td><td><code>filter_matrix</code></td></tr></table><p><strong>@info</strong></p>
<table class="table table"><tr><td><strong>Object</strong></td><td><strong>Type</strong> <strong>Description</strong></td><td><code>call</code></td></tr></table></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>Calculations</strong></p>
<p><strong>Net transmission window</strong></p>
<p>The net transmission window of two filters is approximated by</p>
<p>$$T_{final} = T_{1} * T_{2}$$</p>
<p><strong>Optical density</strong></p>
<p>$$OD = -log10(T)$$</p>
<p><strong>Total optical density</strong></p>
<p>$$OD_{total} = OD_{1} +  OD_{2}$$</p>
<p>Please consider using own calculations for more precise values.</p>
<p><strong>How to provide input data?</strong></p>
<p><em>CASE 1</em></p>
<p>The function expects that all filter values are either of type <code>matrix</code> or <code>data.frame</code>
with two columns. The first columns contains the wavelength, the second the relative transmission
(but not in percentage, i.e. the maximum transmission can be only become 1).</p>
<p>In this case only the transmission window is show as provided. Changes in filter thickness and
reflection factor are not considered.</p>
<p><em>CASE 2</em></p>
<p>The filter data itself are provided as list element containing a <code>matrix</code> or
<code>data.frame</code> and additional information on the thickness of the filter, e.g.,
<code>list(filter1 = list(filter_matrix, d = 2))</code>.
The given filter data are always considered as standard input and the filter thickness value
is taken into account by</p>
<p>$$Transmission = Transmission^(d)$$</p>
<p>with d given in the same dimension as the original filter data.</p>
<p><em>CASE 3</em></p>
<p>Same as CASE 2 but additionally a reflection factor P is provided, e.g.,
<code>list(filter1 = list(filter_matrix, d = 2, P = 0.9))</code>.
The final transmission becomes:</p>
<p>$$Transmission = Transmission^(d) * P$$</p>
<p><strong>Advanced plotting parameters</strong></p>
<p>The following further non-common plotting parameters can be passed to the function:</p>
<table class="table table"><tr><td><strong><code>Argument</code></strong></td><td><strong><code>Datatype</code></strong></td><td><strong><code>Description</code></strong></td></tr><tr><td><code>legend</code></td><td><code>logical</code></td><td>enable/disable legend</td></tr><tr><td><code>legend.pos</code></td><td><code>character</code></td><td>change legend position (<a href="https://rdrr.io/r/graphics/legend.html" class="external-link">graphics::legend</a>)</td></tr><tr><td><code>legend.text</code></td><td><code>character</code></td><td>same as the argument <code>legend</code> in (<a href="https://rdrr.io/r/graphics/legend.html" class="external-link">graphics::legend</a>)</td></tr><tr><td><code>net_transmission.col</code></td><td><code>col</code></td><td>colour of net transmission window polygon</td></tr><tr><td><code>net_transmission.col_lines</code></td><td><code>col</code></td><td>colour of net transmission window polygon lines</td></tr><tr><td><code>net_transmission.density</code></td><td><code>numeric</code></td><td>specify line density in the transmission polygon</td></tr><tr><td><code>grid</code></td><td><code>list</code></td><td>full list of arguments that can be passed to the function <a href="https://rdrr.io/r/graphics/grid.html" class="external-link">graphics::grid</a></td></tr></table><p>For further modifications standard additional R plot functions are recommend, e.g., the legend
can be fully customised by disabling the standard legend and use the function <a href="https://rdrr.io/r/graphics/legend.html" class="external-link">graphics::legend</a>
instead.</p>
    </div>
    <div class="section level2">
    <h2 id="function-version">Function version<a class="anchor" aria-label="anchor" href="#function-version"></a></h2>
    <p>0.3.2</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="RLum.Results-class.html">RLum.Results</a>, <a href="https://rdrr.io/r/stats/approxfun.html" class="external-link">approx</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sebastian Kreutzer, Institute of Geography, Heidelberg University (Germany)
, RLum Developer Team</p>
    </div>
    <div class="section level2">
    <h2 id="how-to-cite">How to cite<a class="anchor" aria-label="anchor" href="#how-to-cite"></a></h2>
    <p>Kreutzer, S., 2024. plot_FilterCombinations(): Plot filter combinations along with the (optional) net transmission window. Function version 0.3.2. In: Kreutzer, S., Burow, C., Dietze, M., Fuchs, M.C., Schmidt, C., Fischer, M., Friedrich, J., Mercier, N., Philippe, A., Riedesel, S., Autzen, M., Mittelstrass, D., Gray, H.J., Galharret, J., Colombo, M., 2024. Luminescence: Comprehensive Luminescence Dating Data Analysis. R package version 0.9.25. https://r-lum.github.io/Luminescence/</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## (For legal reasons no real filter data are provided)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create filter sets</span></span></span>
<span class="r-in"><span><span class="va">filter1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/density.html" class="external-link">density</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">450</span>, sd <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">filter1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">filter1</span><span class="op">$</span><span class="va">x</span>, <span class="va">filter1</span><span class="op">$</span><span class="va">y</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">filter1</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">filter2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span><span class="op">:</span><span class="fl">799</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.8</span>,<span class="fl">0</span><span class="op">)</span>,each <span class="op">=</span> <span class="fl">200</span><span class="op">)</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 1 (standard)</span></span></span>
<span class="r-in"><span><span class="fu">plot_FilterCombinations</span><span class="op">(</span>filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">filter1</span>, <span class="va">filter2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_FilterCombinations-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 2 (with d and P value and name for filter 2)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">plot_FilterCombinations</span><span class="op">(</span></span></span>
<span class="r-in"><span>filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>filter_1 <span class="op">=</span> <span class="va">filter1</span>, Rectangle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">filter2</span>, d <span class="op">=</span> <span class="fl">2</span>, P <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_FilterCombinations-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [RLum.Results-class]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	 originator: plot_FilterCombinations()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	 data: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  	 .. $net_transmission_window : matrix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	 .. $OD_total : matrix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	 .. $filter_matrix : matrix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	 additional info elements:  1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 3 show optical density</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">OD_total</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_FilterCombinations-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">##Example 4</span></span></span>
<span class="r-in"><span><span class="co">##show the filters using the interactive mode</span></span></span>
<span class="r-in"><span><span class="fu">plot_FilterCombinations</span><span class="op">(</span>filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">filter1</span>, <span class="va">filter2</span><span class="op">)</span>, interactive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Kreutzer, Christoph Burow, Michael Dietze, Margret C. Fuchs, Christoph Schmidt, Manfred Fischer, Johannes Friedrich, Norbert Mercier, Anne Philippe, Svenja Riedesel, Martin Autzen, Dirk Mittelstrass, Harrison J. Gray, Jean-Michel Galharret, Marco Colombo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

