<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculation of the source dose rate via the date of measurement — calc_SourceDoseRate • Luminescence</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculation of the source dose rate via the date of measurement — calc_SourceDoseRate" />
<meta property="og:description" content="Calculating the dose rate of the irradiation source via the date of
measurement based on: source calibration date, source dose rate, dose rate
error. The function returns a data.frame that provides the input argument
dose_rate for the function Second2Gray." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Luminescence</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/R-Lum/Luminescence/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculation of the source dose rate via the date of measurement</h1>
    <small class="dont-index">Source: <a href='https://github.com/R-Lum/Luminescence/blob/master/R/calc_SourceDoseRate.R'><code>R/calc_SourceDoseRate.R</code></a></small>
    <div class="hidden name"><code>calc_SourceDoseRate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculating the dose rate of the irradiation source via the date of
measurement based on: source calibration date, source dose rate, dose rate
error. The function returns a data.frame that provides the input argument
dose_rate for the function <a href='Second2Gray.html'>Second2Gray</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>calc_SourceDoseRate</span><span class='op'>(</span>
  measurement.date <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.Date</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>calib.date</span>,
  <span class='va'>calib.dose.rate</span>,
  <span class='va'>calib.error</span>,
  source.type <span class='op'>=</span> <span class='st'>"Sr-90"</span>,
  dose.rate.unit <span class='op'>=</span> <span class='st'>"Gy/s"</span>,
  predict <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>measurement.date</th>
      <td><p><a href='https://rdrr.io/r/base/character.html'>character</a> or <a href='https://rdrr.io/r/base/Dates.html'>Date</a> (with default): Date of measurement in <code>"YYYY-MM-DD"</code>.
If no value is provided, the date will be set to today. The argument can be provided as vector.</p></td>
    </tr>
    <tr>
      <th>calib.date</th>
      <td><p><a href='https://rdrr.io/r/base/character.html'>character</a> or <a href='https://rdrr.io/r/base/Dates.html'>Date</a> (<strong>required</strong>):
date of source calibration in <code>"YYYY-MM-DD"</code></p></td>
    </tr>
    <tr>
      <th>calib.dose.rate</th>
      <td><p><a href='https://rdrr.io/r/base/numeric.html'>numeric</a> (<strong>required</strong>):
dose rate at date of calibration in Gy/s or Gy/min</p></td>
    </tr>
    <tr>
      <th>calib.error</th>
      <td><p><a href='https://rdrr.io/r/base/numeric.html'>numeric</a> (<strong>required</strong>):
error of dose rate at date of calibration Gy/s or Gy/min</p></td>
    </tr>
    <tr>
      <th>source.type</th>
      <td><p><a href='https://rdrr.io/r/base/character.html'>character</a> (<em>with default</em>):
specify irradiation source (<code>Sr-90</code>, <code>Co-60</code>, <code>Cs-137</code>, <code>Am-214</code>),
see details for further information</p></td>
    </tr>
    <tr>
      <th>dose.rate.unit</th>
      <td><p><a href='https://rdrr.io/r/base/character.html'>character</a> (<em>with default</em>):
specify dose rate unit for input (<code>Gy/min</code> or <code>Gy/s</code>), the output is given in
Gy/s as valid for the function <a href='Second2Gray.html'>Second2Gray</a></p></td>
    </tr>
    <tr>
      <th>predict</th>
      <td><p><a href='https://rdrr.io/r/base/integer.html'>integer</a> (<em>with default</em>):
option allowing to predict the dose rate of the source over time in days
set by the provided value. Starting date is the value set with
<code>measurement.date</code>, e.g., <code>calc_SourceDoseRate(..., predict = 100)</code> calculates
the source dose rate for the next 100 days.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns an S4 object of type <a href='RLum.Results-class.html'>RLum.Results</a>.
Slot <code>data</code> contains a <a href='https://rdrr.io/r/base/list.html'>list</a> with the following structure:</p><pre>$ dose.rate (data.frame)
.. $ dose.rate
.. $ dose.rate.error
.. $ date (corresponding measurement date)
$ parameters (list)
.. $ source.type
.. $ halflife
.. $ dose.rate.unit
$ call (the original function call)
</pre>

<p>The output should be accessed using the function <a href='get_RLum.html'>get_RLum</a>.<br />
A plot method of the output is provided via <a href='plot_RLum.html'>plot_RLum</a></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Calculation of the source dose rate based on the time elapsed since the last
calibration of the irradiation source. Decay parameters assume a Sr-90 beta
source. $$dose.rate = D0 * exp(-log(2) / T.1/2 * t)$$ <br /> with: D0 &lt;-
calibration dose rate T.1/2 &lt;- half-life of the source nuclide (here in
days) t &lt;- time since source calibration (in days) log(2) / T.1/2 equals the
decay constant lambda</p>
<p>Information on the date of measurements may be taken from the data's
original .BIN file (using e.g., <code>BINfile &lt;- readBIN2R()</code> and the slot
<code>BINfile@METADATA$DATE</code>)</p>
<p><strong>Allowed source types and related values</strong></p>
<table class='table'>
<tr><td><strong>#</strong></td><td><strong>Source type</strong></td><td><strong>T.1/2</strong></td><td><strong>Reference</strong></td><td><code>[1]</code></td></tr>
<tr><td>Sr-90</td><td>28.90 y</td><td>NNDC, Brookhaven National Laboratory</td><td><code>[2]</code></td><td>Am-214</td></tr>
<tr><td>432.6 y</td><td>NNDC, Brookhaven National Laboratory</td><td><code>[3]</code></td><td>Co-60</td><td>5.274 y</td></tr>
<tr><td>NNDC, Brookhaven National Laboratory</td><td><code>[4</code></td><td>Cs-137</td><td>30.08 y</td><td>NNDC, Brookhaven National Laboratory</td></tr>
</table>


    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Please be careful when using the option <code>predict</code>, especially when a multiple set
for <code>measurement.date</code> and <code>calib.date</code> is provided. For the source dose rate prediction
the function takes the last value <code>measurement.date</code> and predicts from that the the source
source dose rate for the number of days requested,
means: the (multiple) original input will be replaced. However, the function
do not change entries for the calibration dates, but mix them up. Therefore,
it is not recommended to use this option when multiple calibration dates (<code>calib.date</code>)
are provided.</p>
    <h2 class="hasAnchor" id="function-version"><a class="anchor" href="#function-version"></a>Function version</h2>

    <p>0.3.2</p>
    <h2 class="hasAnchor" id="how-to-cite"><a class="anchor" href="#how-to-cite"></a>How to cite</h2>

    <p>Fuchs, M.C., Kreutzer, S., 2021. calc_SourceDoseRate(): Calculation of the source dose rate via the date of measurement. Function version 0.3.2. In: Kreutzer, S., Burow, C., Dietze, M., Fuchs, M.C., Schmidt, C., Fischer, M., Friedrich, J., Mercier, N., Riedesel, S., Autzen, M., Mittelstrass, D., Gray, H.J., 2021. Luminescence: Comprehensive Luminescence Dating Data Analysis. R package version 0.9.11. https://CRAN.R-project.org/package=Luminescence</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>NNDC, Brookhaven National Laboratory <code>http://www.nndc.bnl.gov/</code></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='Second2Gray.html'>Second2Gray</a>, <a href='get_RLum.html'>get_RLum</a>, <a href='plot_RLum.html'>plot_RLum</a></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Margret C. Fuchs, HZDR, Helmholtz-Institute Freiberg for Resource Technology (Germany) <br />
Sebastian Kreutzer, Geography &amp; Earth Sciences, Aberystwyth University (United Kingdom)
, RLum Developer Team</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>

<span class='co'>##(1) Simple function usage</span>
<span class='co'>##Basic calculation of the dose rate for a specific date</span>
<span class='va'>dose.rate</span> <span class='op'>&lt;-</span>  <span class='fu'>calc_SourceDoseRate</span><span class='op'>(</span>measurement.date <span class='op'>=</span> <span class='st'>"2012-01-27"</span>,
                                  calib.date <span class='op'>=</span> <span class='st'>"2014-12-19"</span>,
                                  calib.dose.rate <span class='op'>=</span> <span class='fl'>0.0438</span>,
                                  calib.error <span class='op'>=</span> <span class='fl'>0.0019</span><span class='op'>)</span>

<span class='co'>##show results</span>
<span class='fu'><a href='get_RLum.html'>get_RLum</a></span><span class='op'>(</span><span class='va'>dose.rate</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    dose.rate dose.rate.error       date
#&gt; 1 0.04695031     0.002036657 2012-01-27</div><div class='input'>
<span class='co'>##(2) Usage in combination with another function (e.g., Second2Gray() )</span>
<span class='co'>## load example data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>ExampleData.DeValues</span>, envir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## use the calculated variable dose.rate as input argument</span>
<span class='co'>## to convert De(s) to De(Gy)</span>
<span class='fu'><a href='Second2Gray.html'>Second2Gray</a></span><span class='op'>(</span><span class='va'>ExampleData.DeValues</span><span class='op'>$</span><span class='va'>BT998</span>, <span class='va'>dose.rate</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        De De.error
#&gt; 1  162.37    5.717
#&gt; 2  163.02    5.514
#&gt; 3  177.72    7.294
#&gt; 4  145.94    4.939
#&gt; 5  154.81    4.976
#&gt; 6  132.32    4.792
#&gt; 7  132.54    4.531
#&gt; 8  136.21    4.712
#&gt; 9  134.05    4.963
#&gt; 10 133.40    4.562
#&gt; 11 127.13    4.340
#&gt; 12 137.29    4.725
#&gt; 13 118.75    3.967
#&gt; 14 129.72    4.488
#&gt; 15 133.01    4.426
#&gt; 16 133.67    4.334
#&gt; 17 132.57    4.568
#&gt; 18 135.43    4.532
#&gt; 19 137.84    4.560
#&gt; 20 140.91    4.768
#&gt; 21 136.96    4.641
#&gt; 22 140.47    5.384
#&gt; 23 135.43    4.628
#&gt; 24 123.79    3.729
#&gt; 25 128.18    4.090</div><div class='input'>
<span class='co'>##(3) source rate prediction and plotting</span>
<span class='va'>dose.rate</span> <span class='op'>&lt;-</span>  <span class='fu'>calc_SourceDoseRate</span><span class='op'>(</span>measurement.date <span class='op'>=</span> <span class='st'>"2012-01-27"</span>,
                                  calib.date <span class='op'>=</span> <span class='st'>"2014-12-19"</span>,
                                  calib.dose.rate <span class='op'>=</span> <span class='fl'>0.0438</span>,
                                  calib.error <span class='op'>=</span> <span class='fl'>0.0019</span>,
                                  predict <span class='op'>=</span> <span class='fl'>1000</span><span class='op'>)</span>
<span class='fu'><a href='plot_RLum.html'>plot_RLum</a></span><span class='op'>(</span><span class='va'>dose.rate</span><span class='op'>)</span>
</div><div class='img'><img src='calc_SourceDoseRate-1.png' alt='' width='700' height='433' /></div><div class='input'>

<span class='co'>##(4) export output to a LaTeX table (example using the package 'xtable')</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>xtable</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/xtable/man/xtable.html'>xtable</a></span><span class='op'>(</span><span class='fu'><a href='get_RLum.html'>get_RLum</a></span><span class='op'>(</span><span class='va'>dose.rate</span><span class='op'>)</span><span class='op'>)</span>

<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Kreutzer, Christoph Burow, Michael Dietze, Margret C. Fuchs, Christoph Schmidt, Manfred Fischer, Johannes Friedrich, Norbert Mercier, Svenja Riedesel, Martin Autzen, Dirk Mittelstrass, Harrison J. Gray.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


