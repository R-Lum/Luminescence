---
output:
  md_document:
    variant: gfm # github flavored markdown
header-includes:
   - \usepackage{amsmath}
   - \usepackage{amssymb}
---
<!-- NEWS.md was auto-generated by NEWS.Rmd. Please DO NOT edit by hand!-->

# Changes in version `r RLumBuild::.get_pkg_version()` (`r Sys.Date()`)

## New functions

* `read_BINXLOG2R()`: This new function enables you to salvage log files created 
by a RisÃ¸ reader into R as `RLum.Analysis-class`. The function also allows the 
export of these files into a BIN/BINX format. While the function has been tested 
on a few examples, it is important to note that log files are never a well-defined 
data format. This function is intended for use in cases where you have a corrupted 
BIN/BINX file but a complete log file is still available. Supported log formats 
are TL, OSL, and OSL curves. All other formats are ignored.
Thanks to Michael Kenzler for bringing this to our attention (@RLumSK with #1241).

## Removed functions and deprecations

* Functions `github_branches()`, `github_commits()`, `github_issues()`,
`is.RLum()`, `is.RLum.Analysis()`, `is.RLum.Data()`, `is.RLum.Data.Curve()`,
`is.RLum.Data.Image()`, `is.RLum.Data.Spectrum()` and `is.RLum.Results()`
(deprecated since 1.1.2) have been removed (#1242).

## Bugfixes and changes

### `analyse_baSAR()`

* The function has been updated to use `fit_DoseResponseCurve()` and
`plot_DoseResponseCurve()` instead of `plot_GrowthCurve()`. This should not
have any visible difference other than the renaming of two arguments:
`output.plot` has been renamed to `plot_drc`, while `output.plotExtended` has
been renamed to `plot_extended`. The old names are still functional but will
produce a deprecation warning if used (#1244).

### `analyse_FadingMeasurement()`

* The plots were affected by a bug in `plot_RLum.Analysis()`, so that the
output was unnecessarily split over two pages (#1247).

### `analyse_SAR.CWOSL()`

* No automated resetting of the dose value anymore, if `mode = "alternate"`.
If the first dose point was > 0, the function detected a dose-recovery test
and automatically reset this dose point to 0. While this is likely convenient
in 9 out of 10 cases, it caused trouble if the `mode = "alternate"` (passed on 
to `fit_DoseResponseCurve()` because it modified the first dose point and this 
required additional handling afterwards. Please keep in mind that you
have to redefine the recuperation reference in such a case: this is wanted
and not a bug (#9ff29bfd).

* The order of columns in the `rejection.criteria` data frame that is output
by the function has been changed so that the `UID` column appears now first.
This is meant to facilitate seeing visually to what aliquot each criteria
belongs to. While the `UID` values are random-looking alphanumeric values,
they can identify univocally an aliquot also after merge operations (#1172).

### `plot_RLum.Analysis()`

* The ability to combine multiple plots on a single page regressed in v1.1.2,
causing plots intended to appear side-by-side to be rendered on separate pages
(#1247).

### `read_XSYG2R()`

* Attributes from the record level are now all included in the `@info` slot,
as long as they do not duplicate the attributes from the curve level. Hence,
those attributes are now available for filtering (#1239; thanks to
@DirkMittelstrass for reporting).

## Other changes

* The internal function `.normalise_curve()` received support to normalise 
against by the minimum value (`"min"`), the first values (`"first"`) or 
an arbitrary number (e.g, `2.2`) to be set by the user. 
This new settings are automatically available 
to `plot_RLum.Data.Curve(..., norm = <setting>)`.
