---
output:
  md_document:
    variant: gfm # github flavored markdown
header-includes:
   - \usepackage{amsmath}
   - \usepackage{amssymb}
---
<!-- NEWS.md was auto-generated by NEWS.Rmd. Please DO NOT edit by hand!-->

# Changes in version `r RLumBuild::.get_pkg_version()` (`r Sys.Date()`)

## New functions


## Breaking changes

## Renamed functions and deprecations

## Bugfixes

### `analyse_baSAR()`

* The number of aliquots used was only partially reported if no aliquots were
removed.

### `analyse_FadingMeasurement()`

* The function checks that an input object generated from an XSYG file
contains irradiation steps and returns an error if none are available,
instead of producing an unhelpful output (#588).

* A regression in `plot_RLum.Analysis()` caused part of the plot of the
luminescence curves to be messed up (#589).

* The function crashed on a file generated by `read_XSYG2R()` if the number
of curves available after removal of the irradiation step was not enough for
the the fading measurement to be analysed (#603).

### `analyse_pIRIRSequence()`

* The check on the minimum device plot size used to fail if only one
dimension was below our minimum threshold, and when it was incorrectly
triggered by the floating point values computed by `grDevices::dev.size()`,
which sometimes could be spuriously just below threshold. We also changed
the minimum device size from 18 to 16 inches (#593).

### `calc_CosmicDoseRate()`

* The function crashed if the number of depths provided exceeded that of the
densities and the latter contained more than one value (#595).

### `calc_FadingCorr()`

* The function sporadically returned an unplausibly large error estimate if
any of the Monte Carlo simulations produced an outlier solution (#597).

* The function now allocates only as much memory as required if the user
specifies a value for `n.MC` other than `"auto"`, which brings a small
speed-up if fewer than 10 million samples are requested.

* Input arguments are now more thoroughly checked to avoid warnings or
unhelpful messages (#599).

### `calc_FastRatio()`

* The function crashed if the input was an RLum.Analysis object (#586).

### `plot_AbanicoPlot()`

* The `xlim`, `ylim` and `zlim` parameters are now better validated to avoid
possible crashes if misspecified (#581).

### `plot_RLum.Analysis()`

* The function reset incorrectly the graphical parameters for the case
`plot_singlePanels = TRUE`. This caused a regression in the plot output
from `analyse_FadingMeasurement()` (#589).

### `sort_RLum()`

* The function doesn't crash when multiple fields are specified, although
the actual sort at the moment occurs only on the first field (#606).
