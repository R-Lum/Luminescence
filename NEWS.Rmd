---
output: github_document
header-includes:
   - \usepackage{amsmath}
   - \usepackage{amssymb}
---
<!-- NEWS.md was auto-generated by NEWS.Rmd. Please DO NOT edit by hand!-->

# Changes in version `r RLumBuild::.get_pkg_version()` (`r Sys.Date()`)

**This package version requires R >= 4.3**

## New functions
* `read_HeliosOSL2R()`: New import function to support the new zero rad Helios luminescence reader
and its `.osl` file format. The output is an `RLum.Analysis-class` object. 

## Bugfixes

### `analyse_FadingMeasurements()`
* Add `...` support to disable the blue trend line via `plot.trend = FALSE` 

### `analyse_portableOSL()`
* Function did not respect argument `main`; fixed.

### `convert_Wavelength2Energy()`
* Fix #133 addressing cases where R throws an uncontained error when R drops
the object structure in very rare cases (#134; thanks @mcol)

### `calc_Huntley2006()`
* Improve success rate of GOK fitting of the unfaded data using a two step approach: first 
an exponential fit is applied then this values are used as start parameters. 

### `calc_Statistics()`
* The skewness and kurtosis depended on number of MC samples (#122); fixed with #123 (thanks to @mcol)

### `calc_TLLxTxRatio()`
* Function crashed for `Tx.data.background = NULL` (#129); fixed with #130 thanks to @mcol

### `fit_EmissionSpectra()`
* Parameter `input_scale` was not correctly propagated when the function would
self-call (#160, @mcol).

### `fit_SurfaceExposure()`
* Fix #162 to remove a dimension mismatch if the input data contained `NA`s,
which would generate unexpected warnings (#163, @mcol).
* The function doesn't stop anymore with an error if called on an
`RLum.Results` object (#165, @mcol).

### `plot_GrowthCurve()`
* The function now calculates the relative saturation (`n/N`) using the ration of the two integrates.
The values is part of the output table. 

### `plot_NRt()`
* The function reports an helpful message rather than crashing when applied
to an object of unexpected type (#177, @mcol).

### `plot_RLum.Data.Analysis()`
* The function now supports all arguments from `plot_RLum.Data.Spectrum()`; before it 
had only basic functionality for `RLum.Data.Spectrum-class` data. 

### `plot_RLum.Data.Spectrum()`
* The plot function can now handle non-increasing column values for plotting (with a warning).

### `read_BIN2R()`
* `ignore.RECTYPE` now supports numeric values, e.g., 128. Records for this type
will be ignored during import.
* BINX-files with `RECTYPE = 128` will not crash anymore, thanks for asking Anna-Maartje Boer and replying Karsten Bracht.

### `read_PSL2R()`
* The function is out of the beta status, hence the flag was removed. 
* The `RLum.Analysis-class` object returned by the function gained a new element `Sequence`, which is a data frame. 
with the measured sequence. This way, if the original sequence was lost, it can still be extracted from the `.psl` data.
* If no `.psl` file was found the function got trapped in an infinite loop (#127); fixed with #128 (thanks to @mcol)

### `read_XSYG2R()`
* Fix spectrometer data import for basically broken files.

### `read_Daybreak2R()`
* Fix #135 to improve detection of non-ASCII files (#140, @mcol).

## Internals
* New internal function + tests added `.get_named_list_element()`. It just does what 
the names says.
